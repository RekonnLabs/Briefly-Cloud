{"version":3,"names":["cov_xt3mqq17c","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","GET","request","ip","headers","get","split","_apiutils","createApiResponse","trim","error","console"],"sources":["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\client-ip\\route.ts"],"sourcesContent":["/**\r\n * Client IP Address API\r\n * \r\n * Returns the client's IP address for GDPR consent logging\r\n */\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { createApiResponse } from '@/app/lib/api-utils';\r\n\r\n/**\r\n * GET /api/client-ip\r\n * Get the client's IP address\r\n */\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    // Get IP from various headers (Vercel, Cloudflare, etc.)\r\n    const ip = \r\n      request.headers.get('x-forwarded-for')?.split(',')[0] ||\r\n      request.headers.get('x-real-ip') ||\r\n      request.headers.get('cf-connecting-ip') ||\r\n      request.headers.get('x-client-ip') ||\r\n      'unknown';\r\n\r\n    return createApiResponse({\r\n      ip: ip.trim()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Error getting client IP:', error);\r\n    return createApiResponse({\r\n      ip: 'unknown'\r\n    });\r\n  }\r\n}"],"mappings":"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","ignoreList":[]}