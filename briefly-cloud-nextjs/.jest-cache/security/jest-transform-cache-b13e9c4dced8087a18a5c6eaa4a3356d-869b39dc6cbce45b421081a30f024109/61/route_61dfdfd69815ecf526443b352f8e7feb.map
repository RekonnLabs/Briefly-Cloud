{"version":3,"names":["cov_l3kad712a","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","GET","POST","_authmiddleware","withAuth","_usagemiddleware","withUsageControls","trackUsage","action","resourceType","quantity","enforceRateLimit","window","logMetadata","request","context","user","rateLimiter","_ratelimiter","getRateLimiter","rateLimitStatus","getRateLimitStatus","id","_server","NextResponse","json","success","data","userId","rateLimits","timestamp","Date","toISOString","error","_logger","logger","message","status","requireFeature","body","catch","resetRateLimits","updatedStatus","resetAction","resetWindow","updatedRateLimits","Error","includes"],"sources":["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\usage\\rate-limits\\route.ts"],"sourcesContent":["/**\r\n * Rate Limits API Route\r\n * \r\n * This endpoint provides current rate limit status for the authenticated user\r\n * across all actions and time windows.\r\n */\r\n\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { withAuth } from '@/app/lib/auth/auth-middleware'\r\nimport { withUsageControls } from '@/app/lib/usage/usage-middleware'\r\nimport { getRateLimiter } from '@/app/lib/usage/rate-limiter'\r\nimport { logger } from '@/app/lib/logger'\r\n\r\n/**\r\n * GET /api/usage/rate-limits\r\n * \r\n * Get current rate limit status for all actions and windows\r\n */\r\nexport const GET = withAuth(\r\n  withUsageControls({\r\n    trackUsage: {\r\n      action: 'api_call',\r\n      resourceType: 'rate_limit_status',\r\n      quantity: 1\r\n    },\r\n    enforceRateLimit: {\r\n      action: 'api_request',\r\n      window: 'minute'\r\n    },\r\n    logMetadata: true\r\n  }, async (request: NextRequest, context) => {\r\n    try {\r\n      const { user } = context\r\n      const rateLimiter = getRateLimiter()\r\n      \r\n      // Get comprehensive rate limit status\r\n      const rateLimitStatus = await rateLimiter.getRateLimitStatus(user.id)\r\n      \r\n      return NextResponse.json({\r\n        success: true,\r\n        data: {\r\n          userId: user.id,\r\n          rateLimits: rateLimitStatus,\r\n          timestamp: new Date().toISOString()\r\n        }\r\n      })\r\n      \r\n    } catch (error) {\r\n      logger.error('Failed to get rate limit status', {\r\n        userId: context.user.id,\r\n        error: (error as Error).message\r\n      })\r\n      \r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'Failed to get rate limit status',\r\n          message: 'Please try again later'\r\n        },\r\n        { status: 500 }\r\n      )\r\n    }\r\n  })\r\n)\r\n\r\n/**\r\n * POST /api/usage/rate-limits/reset\r\n * \r\n * Reset rate limits for the authenticated user (admin only)\r\n */\r\nexport const POST = withAuth(\r\n  withUsageControls({\r\n    trackUsage: {\r\n      action: 'api_call',\r\n      resourceType: 'rate_limit_reset',\r\n      quantity: 1\r\n    },\r\n    enforceRateLimit: {\r\n      action: 'api_request',\r\n      window: 'minute'\r\n    },\r\n    requireFeature: 'admin_access',\r\n    logMetadata: true\r\n  }, async (request: NextRequest, context) => {\r\n    try {\r\n      const { user } = context\r\n      const rateLimiter = getRateLimiter()\r\n      \r\n      // Parse request body for specific action/window to reset\r\n      const body = await request.json().catch(() => ({}))\r\n      const { action, window } = body\r\n      \r\n      // Reset rate limits\r\n      await rateLimiter.resetRateLimits(user.id, action, window)\r\n      \r\n      // Get updated status\r\n      const updatedStatus = await rateLimiter.getRateLimitStatus(user.id)\r\n      \r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'Rate limits reset successfully',\r\n        data: {\r\n          userId: user.id,\r\n          resetAction: action || 'all',\r\n          resetWindow: window || 'all',\r\n          updatedRateLimits: updatedStatus,\r\n          timestamp: new Date().toISOString()\r\n        }\r\n      })\r\n      \r\n    } catch (error) {\r\n      logger.error('Failed to reset rate limits', {\r\n        userId: context.user.id,\r\n        error: (error as Error).message\r\n      })\r\n      \r\n      if (error instanceof Error && error.message.includes('not authorized')) {\r\n        return NextResponse.json(\r\n          { success: false, error: 'Not authorized' },\r\n          { status: 403 }\r\n        )\r\n      }\r\n      \r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'Failed to reset rate limits',\r\n          message: 'Please try again later'\r\n        },\r\n        { status: 500 }\r\n      )\r\n    }\r\n  })\r\n)"],"mappings":"AAAA;;;;;GAKC;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA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","ignoreList":[]}