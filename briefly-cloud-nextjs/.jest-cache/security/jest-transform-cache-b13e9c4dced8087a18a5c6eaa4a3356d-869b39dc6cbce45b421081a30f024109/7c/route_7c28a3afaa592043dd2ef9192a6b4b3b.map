{"version":3,"names":["cov_jtv6t5p1h","path","hash","global","Function","gcv","coverageData","statementMap","start","line","column","end","fnMap","name","decl","loc","branchMap","type","locations","undefined","s","f","b","inputSourceMap","version","sources","sourcesContent","names","mappings","_coverageSchema","coverage","actualCoverage","GET","POST","request","user","_supabaseauth","getAuthenticatedUser","data","userData","_supabase","supabaseAdmin","from","select","eq","id","single","email","endsWith","_server","NextResponse","json","error","status","searchParams","URL","url","timeWindow","get","includeAlerts","includeThreats","dashboardData","_securitymonitor","securityMonitor","getSecurityDashboard","additionalData","alerts","order","ascending","limit","recent_alerts","threats","threat_intelligence","eventsSummary","rpc","time_window","metricsSummary","anomalies","threshold_multiplier","dashboard","events_summary","metrics_summary","timestamp","Date","toISOString","console","body","severity","source","metadata","user_id","ip_address","user_agent","logSecurityEvent","ip","headers","success","message"],"sources":["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\admin\\security\\monitoring\\route.ts"],"sourcesContent":["/**\r\n * Security Monitoring API Endpoints\r\n * Real-time security monitoring and metrics\r\n */\r\n\r\nimport { NextRequest, NextResponse } from 'next/server';\r\nimport { getAuthenticatedUser } from '@/lib/auth/supabase-auth';\r\nimport { securityMonitor } from '@/lib/monitoring/security-monitor';\r\nimport { supabaseAdmin } from '@/lib/supabase';\r\n\r\n// GET /api/admin/security/monitoring - Get security dashboard data\r\nexport async function GET(request: NextRequest) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n    \r\n    // Check if user is admin\r\n    const { data: userData } = await supabaseAdmin\r\n      .from('app.users')\r\n      .select('email')\r\n      .eq('id', user.id)\r\n      .single();\r\n\r\n    if (!userData?.email?.endsWith('@rekonnlabs.com')) {\r\n      return NextResponse.json(\r\n        { error: 'Admin access required' },\r\n        { status: 403 }\r\n      );\r\n    }\r\n\r\n    const { searchParams } = new URL(request.url);\r\n    const timeWindow = searchParams.get('timeWindow') || '1h';\r\n    const includeAlerts = searchParams.get('includeAlerts') !== 'false';\r\n    const includeThreats = searchParams.get('includeThreats') !== 'false';\r\n\r\n    // Get security dashboard data\r\n    const dashboardData = await securityMonitor.getSecurityDashboard();\r\n\r\n    // Get additional data based on query parameters\r\n    let additionalData: any = {};\r\n\r\n    if (includeAlerts) {\r\n      const { data: alerts } = await supabaseAdmin\r\n        .from('private.security_alerts')\r\n        .select('*')\r\n        .order('created_at', { ascending: false })\r\n        .limit(20);\r\n      \r\n      additionalData.recent_alerts = alerts || [];\r\n    }\r\n\r\n    if (includeThreats) {\r\n      const { data: threats } = await supabaseAdmin\r\n        .from('private.threat_intelligence')\r\n        .select('*')\r\n        .order('last_seen', { ascending: false })\r\n        .limit(10);\r\n      \r\n      additionalData.threat_intelligence = threats || [];\r\n    }\r\n\r\n    // Get security events summary\r\n    const { data: eventsSummary } = await supabaseAdmin\r\n      .rpc('get_security_events_by_type', {\r\n        time_window: timeWindow === '1h' ? '1 hour' : \r\n                    timeWindow === '24h' ? '24 hours' : \r\n                    timeWindow === '7d' ? '7 days' : '1 hour'\r\n      });\r\n\r\n    // Get security metrics summary\r\n    const { data: metricsSummary } = await supabaseAdmin\r\n      .rpc('get_security_metrics_summary', {\r\n        time_window: timeWindow === '1h' ? '1 hour' : \r\n                    timeWindow === '24h' ? '24 hours' : \r\n                    timeWindow === '7d' ? '7 days' : '1 hour'\r\n      });\r\n\r\n    // Detect anomalies\r\n    const { data: anomalies } = await supabaseAdmin\r\n      .rpc('detect_security_anomalies', { threshold_multiplier: 3.0 });\r\n\r\n    return NextResponse.json({\r\n      dashboard: dashboardData,\r\n      events_summary: eventsSummary || [],\r\n      metrics_summary: metricsSummary || [],\r\n      anomalies: anomalies || [],\r\n      ...additionalData,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Security monitoring API error:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to fetch security monitoring data' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n// POST /api/admin/security/monitoring - Log security event\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const user = await getAuthenticatedUser();\r\n    const body = await request.json();\r\n\r\n    const {\r\n      type,\r\n      severity,\r\n      source,\r\n      metadata = {},\r\n      user_id,\r\n      ip_address,\r\n      user_agent\r\n    } = body;\r\n\r\n    // Validate required fields\r\n    if (!type || !severity || !source) {\r\n      return NextResponse.json(\r\n        { error: 'Missing required fields: type, severity, source' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Log security event\r\n    await securityMonitor.logSecurityEvent({\r\n      type,\r\n      severity,\r\n      source,\r\n      user_id: user_id || user.id,\r\n      ip_address: ip_address || request.ip,\r\n      user_agent: user_agent || request.headers.get('user-agent'),\r\n      metadata\r\n    });\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      message: 'Security event logged successfully'\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Security event logging error:', error);\r\n    return NextResponse.json(\r\n      { error: 'Failed to log security event' },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}"],"mappings":"AAAA;;;GAGC;;AAAA;AAAA,SAAAA,cAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,IAAA;EAAA,IAAAC,MAAA,OAAAC,QAAA;EAAA,IAAAC,GAAA;EAAA,IAAAC,YAAA;IAAAL,IAAA;IAAAM,YAAA;MAAA;QAAAC,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;UAAAC,IAAA;UAAAC,MAAA;QAAA;QAAAC,GAAA;UAAAF,IAAA;UAAAC,MAAA;QAAA;MAAA;MAAA;QAAAF,KAAA;U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","ignoreList":[]}