8319b06963ec6b1d2ad28c2c14d5b864
"use strict";

/* istanbul ignore next */
function cov_1ndcxhnlob() {
  var path = "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\feedback\\route.ts";
  var hash = "7656631df016c9b8cc56de9034d04cb1fdf564a6";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\feedback\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 18
        },
        end: {
          line: 20,
          column: 38
        }
      },
      "8": {
        start: {
          line: 21,
          column: 14
        },
        end: {
          line: 21,
          column: 39
        }
      },
      "9": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 43
        }
      },
      "10": {
        start: {
          line: 23,
          column: 19
        },
        end: {
          line: 23,
          column: 50
        }
      },
      "11": {
        start: {
          line: 24,
          column: 19
        },
        end: {
          line: 24,
          column: 50
        }
      },
      "12": {
        start: {
          line: 25,
          column: 13
        },
        end: {
          line: 25,
          column: 27
        }
      },
      "13": {
        start: {
          line: 27,
          column: 23
        },
        end: {
          line: 49,
          column: 2
        }
      },
      "14": {
        start: {
          line: 50,
          column: 26
        },
        end: {
          line: 64,
          column: 2
        }
      },
      "15": {
        start: {
          line: 66,
          column: 4
        },
        end: {
          line: 115,
          column: 7
        }
      },
      "16": {
        start: {
          line: 67,
          column: 8
        },
        end: {
          line: 114,
          column: 9
        }
      },
      "17": {
        start: {
          line: 68,
          column: 28
        },
        end: {
          line: 68,
          column: 84
        }
      },
      "18": {
        start: {
          line: 69,
          column: 25
        },
        end: {
          line: 69,
          column: 45
        }
      },
      "19": {
        start: {
          line: 70,
          column: 33
        },
        end: {
          line: 70,
          column: 59
        }
      },
      "20": {
        start: {
          line: 72,
          column: 29
        },
        end: {
          line: 84,
          column: 13
        }
      },
      "21": {
        start: {
          line: 87,
          column: 12
        },
        end: {
          line: 93,
          column: 15
        }
      },
      "22": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 97,
          column: 13
        }
      },
      "23": {
        start: {
          line: 96,
          column: 16
        },
        end: {
          line: 96,
          column: 63
        }
      },
      "24": {
        start: {
          line: 99,
          column: 12
        },
        end: {
          line: 101,
          column: 13
        }
      },
      "25": {
        start: {
          line: 100,
          column: 16
        },
        end: {
          line: 100,
          column: 58
        }
      },
      "26": {
        start: {
          line: 102,
          column: 12
        },
        end: {
          line: 108,
          column: 15
        }
      },
      "27": {
        start: {
          line: 110,
          column: 12
        },
        end: {
          line: 112,
          column: 15
        }
      },
      "28": {
        start: {
          line: 113,
          column: 12
        },
        end: {
          line: 113,
          column: 89
        }
      },
      "29": {
        start: {
          line: 118,
          column: 4
        },
        end: {
          line: 154,
          column: 7
        }
      },
      "30": {
        start: {
          line: 119,
          column: 8
        },
        end: {
          line: 153,
          column: 9
        }
      },
      "31": {
        start: {
          line: 120,
          column: 28
        },
        end: {
          line: 120,
          column: 84
        }
      },
      "32": {
        start: {
          line: 121,
          column: 12
        },
        end: {
          line: 123,
          column: 13
        }
      },
      "33": {
        start: {
          line: 122,
          column: 16
        },
        end: {
          line: 122,
          column: 80
        }
      },
      "34": {
        start: {
          line: 125,
          column: 35
        },
        end: {
          line: 129,
          column: 38
        }
      },
      "35": {
        start: {
          line: 129,
          column: 27
        },
        end: {
          line: 129,
          column: 37
        }
      },
      "36": {
        start: {
          line: 130,
          column: 37
        },
        end: {
          line: 130,
          column: 57
        }
      },
      "37": {
        start: {
          line: 131,
          column: 26
        },
        end: {
          line: 136,
          column: 13
        }
      },
      "38": {
        start: {
          line: 137,
          column: 35
        },
        end: {
          line: 137,
          column: 65
        }
      },
      "39": {
        start: {
          line: 140,
          column: 29
        },
        end: {
          line: 140,
          column: 95
        }
      },
      "40": {
        start: {
          line: 141,
          column: 12
        },
        end: {
          line: 147,
          column: 15
        }
      },
      "41": {
        start: {
          line: 149,
          column: 12
        },
        end: {
          line: 151,
          column: 15
        }
      },
      "42": {
        start: {
          line: 152,
          column: 12
        },
        end: {
          line: 152,
          column: 86
        }
      },
      "43": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 160,
          column: 14
        }
      },
      "44": {
        start: {
          line: 164,
          column: 4
        },
        end: {
          line: 168,
          column: 7
        }
      },
      "45": {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 189,
          column: 7
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 15
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "POST",
        decl: {
          start: {
            line: 65,
            column: 15
          },
          end: {
            line: 65,
            column: 19
          }
        },
        loc: {
          start: {
            line: 65,
            column: 29
          },
          end: {
            line: 116,
            column: 1
          }
        },
        line: 65
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 66,
            column: 50
          },
          end: {
            line: 66,
            column: 51
          }
        },
        loc: {
          start: {
            line: 66,
            column: 60
          },
          end: {
            line: 115,
            column: 5
          }
        },
        line: 66
      },
      "5": {
        name: "GET",
        decl: {
          start: {
            line: 117,
            column: 15
          },
          end: {
            line: 117,
            column: 18
          }
        },
        loc: {
          start: {
            line: 117,
            column: 28
          },
          end: {
            line: 155,
            column: 1
          }
        },
        line: 117
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 118,
            column: 50
          },
          end: {
            line: 118,
            column: 51
          }
        },
        loc: {
          start: {
            line: 118,
            column: 60
          },
          end: {
            line: 154,
            column: 5
          }
        },
        line: 118
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 129,
            column: 20
          },
          end: {
            line: 129,
            column: 21
          }
        },
        loc: {
          start: {
            line: 129,
            column: 27
          },
          end: {
            line: 129,
            column: 37
          }
        },
        line: 129
      },
      "8": {
        name: "getFeedback",
        decl: {
          start: {
            line: 157,
            column: 15
          },
          end: {
            line: 157,
            column: 26
          }
        },
        loc: {
          start: {
            line: 157,
            column: 51
          },
          end: {
            line: 161,
            column: 1
          }
        },
        line: 157
      },
      "9": {
        name: "sendMigrationIssueNotification",
        decl: {
          start: {
            line: 162,
            column: 15
          },
          end: {
            line: 162,
            column: 45
          }
        },
        loc: {
          start: {
            line: 162,
            column: 56
          },
          end: {
            line: 182,
            column: 6
          }
        },
        line: 162
      },
      "10": {
        name: "sendBugReportNotification",
        decl: {
          start: {
            line: 183,
            column: 15
          },
          end: {
            line: 183,
            column: 40
          }
        },
        loc: {
          start: {
            line: 183,
            column: 51
          },
          end: {
            line: 203,
            column: 6
          }
        },
        line: 183
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 74,
            column: 25
          },
          end: {
            line: 74,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 74,
            column: 25
          },
          end: {
            line: 74,
            column: 42
          }
        }, {
          start: {
            line: 74,
            column: 46
          },
          end: {
            line: 74,
            column: 50
          }
        }],
        line: 74
      },
      "1": {
        loc: {
          start: {
            line: 82,
            column: 28
          },
          end: {
            line: 82,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 82,
            column: 28
          },
          end: {
            line: 82,
            column: 50
          }
        }, {
          start: {
            line: 82,
            column: 54
          },
          end: {
            line: 82,
            column: 78
          }
        }],
        line: 82
      },
      "2": {
        loc: {
          start: {
            line: 95,
            column: 12
          },
          end: {
            line: 97,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 95,
            column: 12
          },
          end: {
            line: 97,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 95
      },
      "3": {
        loc: {
          start: {
            line: 95,
            column: 16
          },
          end: {
            line: 95,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 95,
            column: 16
          },
          end: {
            line: 95,
            column: 45
          }
        }, {
          start: {
            line: 95,
            column: 49
          },
          end: {
            line: 95,
            column: 78
          }
        }],
        line: 95
      },
      "4": {
        loc: {
          start: {
            line: 99,
            column: 12
          },
          end: {
            line: 101,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 99,
            column: 12
          },
          end: {
            line: 101,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 99
      },
      "5": {
        loc: {
          start: {
            line: 99,
            column: 16
          },
          end: {
            line: 99,
            column: 73
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 99,
            column: 16
          },
          end: {
            line: 99,
            column: 39
          }
        }, {
          start: {
            line: 99,
            column: 43
          },
          end: {
            line: 99,
            column: 73
          }
        }],
        line: 99
      },
      "6": {
        loc: {
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 123,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 12
          },
          end: {
            line: 123,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "7": {
        loc: {
          start: {
            line: 132,
            column: 32
          },
          end: {
            line: 132,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 132,
            column: 32
          },
          end: {
            line: 132,
            column: 57
          }
        }, {
          start: {
            line: 132,
            column: 61
          },
          end: {
            line: 132,
            column: 65
          }
        }],
        line: 132
      },
      "8": {
        loc: {
          start: {
            line: 133,
            column: 33
          },
          end: {
            line: 133,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 133,
            column: 33
          },
          end: {
            line: 133,
            column: 59
          }
        }, {
          start: {
            line: 133,
            column: 63
          },
          end: {
            line: 133,
            column: 66
          }
        }],
        line: 133
      },
      "9": {
        loc: {
          start: {
            line: 134,
            column: 22
          },
          end: {
            line: 134,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 134,
            column: 22
          },
          end: {
            line: 134,
            column: 46
          }
        }, {
          start: {
            line: 134,
            column: 50
          },
          end: {
            line: 134,
            column: 59
          }
        }],
        line: 134
      },
      "10": {
        loc: {
          start: {
            line: 135,
            column: 24
          },
          end: {
            line: 135,
            column: 63
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 135,
            column: 24
          },
          end: {
            line: 135,
            column: 50
          }
        }, {
          start: {
            line: 135,
            column: 54
          },
          end: {
            line: 135,
            column: 63
          }
        }],
        line: 135
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\feedback\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server'\r\nimport { getServerSession } from 'next-auth'\r\nimport { authOptions } from '@/app/lib/auth'\r\nimport { logger } from '@/app/lib/logger'\r\nimport { formatErrorResponse } from '@/app/lib/api-errors'\r\nimport { withRateLimit } from '@/app/lib/rate-limit'\r\nimport { z } from 'zod'\r\n\r\n// Feedback schemas\r\nconst FeedbackSchema = z.object({\r\n  type: z.enum(['bug', 'feature', 'migration', 'general', 'data_loss', 'performance', 'access', 'technical']),\r\n  rating: z.enum(['positive', 'negative', 'neutral']).optional(),\r\n  title: z.string().min(1).max(200),\r\n  description: z.string().min(10).max(2000),\r\n  email: z.string().email().optional(),\r\n  userAgent: z.string().optional(),\r\n  url: z.string().url().optional(),\r\n  timestamp: z.string().datetime().optional(),\r\n})\r\n\r\nconst GetFeedbackSchema = z.object({\r\n  limit: z.number().min(1).max(100).optional().default(50),\r\n  offset: z.number().min(0).optional().default(0),\r\n  type: z.enum(['bug', 'feature', 'migration', 'general']).optional(),\r\n  rating: z.enum(['positive', 'negative', 'neutral']).optional(),\r\n})\r\n\r\nexport async function POST(request: NextRequest) {\r\n  return withRateLimit(request, async () => {\r\n    try {\r\n      const session = await getServerSession(authOptions)\r\n      const body = await request.json()\r\n      const feedbackData = FeedbackSchema.parse(body)\r\n\r\n      // Create feedback record\r\n      const feedback = {\r\n        id: crypto.randomUUID(),\r\n        user_id: session?.user?.id || null,\r\n        type: feedbackData.type,\r\n        rating: feedbackData.rating,\r\n        title: feedbackData.title,\r\n        description: feedbackData.description,\r\n        email: feedbackData.email,\r\n        user_agent: feedbackData.userAgent,\r\n        url: feedbackData.url,\r\n        created_at: feedbackData.timestamp || new Date().toISOString(),\r\n        status: 'new',\r\n      }\r\n\r\n      // Store feedback in database (this would be implemented with your database)\r\n      // For now, we'll log it and return success\r\n      logger.info('Feedback submitted', {\r\n        feedbackId: feedback.id,\r\n        userId: feedback.user_id,\r\n        type: feedback.type,\r\n        rating: feedback.rating,\r\n        title: feedback.title,\r\n      })\r\n\r\n      // Send notification for migration issues\r\n      if (feedback.type === 'migration' || feedback.type === 'data_loss') {\r\n        await sendMigrationIssueNotification(feedback)\r\n      }\r\n\r\n      // Send notification for critical bugs\r\n      if (feedback.type === 'bug' && feedback.rating === 'negative') {\r\n        await sendBugReportNotification(feedback)\r\n      }\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        data: {\r\n          feedback_id: feedback.id,\r\n          message: 'Feedback submitted successfully'\r\n        }\r\n      })\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to submit feedback', { error })\r\n      return formatErrorResponse('Failed to submit feedback', 500)\r\n    }\r\n  })\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  return withRateLimit(request, async () => {\r\n    try {\r\n      const session = await getServerSession(authOptions)\r\n      if (!session?.user) {\r\n        return formatErrorResponse('Unauthorized', 401)\r\n      }\r\n\r\n      // Check admin privileges for viewing all feedback\r\n      const { data: user } = await fetch(`${process.env.NEXTAUTH_URL}/api/user/profile`, {\r\n        headers: { Authorization: `Bearer ${session.accessToken}` }\r\n      }).then(res => res.json())\r\n\r\n      const { searchParams } = new URL(request.url)\r\n      const query = {\r\n        limit: parseInt(searchParams.get('limit') || '50'),\r\n        offset: parseInt(searchParams.get('offset') || '0'),\r\n        type: searchParams.get('type') || undefined,\r\n        rating: searchParams.get('rating') || undefined,\r\n      }\r\n\r\n      const validatedQuery = GetFeedbackSchema.parse(query)\r\n\r\n      // Get feedback from database\r\n      // This would be implemented with your database\r\n      const feedback = await getFeedback(session.user.id, validatedQuery, user?.is_admin)\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        data: {\r\n          feedback,\r\n          count: feedback.length,\r\n        }\r\n      })\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to get feedback', { error })\r\n      return formatErrorResponse('Failed to get feedback', 500)\r\n    }\r\n  })\r\n}\r\n\r\n// Helper functions (these would be implemented with your database)\r\nasync function getFeedback(userId: string, query: any, isAdmin: boolean) {\r\n  // This would query your database for feedback\r\n  // For now, return empty array\r\n  return []\r\n}\r\n\r\nasync function sendMigrationIssueNotification(feedback: any) {\r\n  // Send notification to support team for migration issues\r\n  logger.info('Migration issue notification sent', {\r\n    feedbackId: feedback.id,\r\n    type: feedback.type,\r\n    title: feedback.title,\r\n  })\r\n\r\n  // This could send an email, Slack message, or create a support ticket\r\n  // Example implementation:\r\n  /*\r\n  const emailContent = `\r\n    Migration Issue Reported:\r\n    - Type: ${feedback.type}\r\n    - Title: ${feedback.title}\r\n    - Description: ${feedback.description}\r\n    - User Email: ${feedback.email}\r\n    - URL: ${feedback.url}\r\n  `\r\n  \r\n  await sendEmail('support@rekonnlabs.com', 'Migration Issue Reported', emailContent)\r\n  */\r\n}\r\n\r\nasync function sendBugReportNotification(feedback: any) {\r\n  // Send notification to development team for bug reports\r\n  logger.info('Bug report notification sent', {\r\n    feedbackId: feedback.id,\r\n    title: feedback.title,\r\n    rating: feedback.rating,\r\n  })\r\n\r\n  // This could send an email, create a GitHub issue, or notify the dev team\r\n  // Example implementation:\r\n  /*\r\n  const bugReport = `\r\n    Bug Report:\r\n    - Title: ${feedback.title}\r\n    - Description: ${feedback.description}\r\n    - User Agent: ${feedback.user_agent}\r\n    - URL: ${feedback.url}\r\n    - Rating: ${feedback.rating}\r\n  `\r\n  \r\n  await createGitHubIssue('Bug Report', bugReport, 'bug')\r\n  */\r\n}\r\n"],
      names: ["GET", "POST", "FeedbackSchema", "z", "object", "type", "enum", "rating", "optional", "title", "string", "min", "max", "description", "email", "userAgent", "url", "timestamp", "datetime", "GetFeedbackSchema", "limit", "number", "default", "offset", "request", "withRateLimit", "session", "getServerSession", "authOptions", "body", "json", "feedbackData", "parse", "feedback", "id", "crypto", "randomUUID", "user_id", "user", "user_agent", "created_at", "Date", "toISOString", "status", "logger", "info", "feedbackId", "userId", "sendMigrationIssueNotification", "sendBugReportNotification", "NextResponse", "success", "data", "feedback_id", "message", "error", "formatErrorResponse", "fetch", "process", "env", "NEXTAUTH_URL", "headers", "Authorization", "accessToken", "then", "res", "searchParams", "URL", "query", "parseInt", "get", "undefined", "validatedQuery", "getFeedback", "is_admin", "count", "length", "isAdmin"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7656631df016c9b8cc56de9034d04cb1fdf564a6"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1ndcxhnlob = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1ndcxhnlob();
cov_1ndcxhnlob().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[0]++;
  cov_1ndcxhnlob().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1ndcxhnlob().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1ndcxhnlob().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_1ndcxhnlob().f[1]++;
    cov_1ndcxhnlob().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_1ndcxhnlob().f[2]++;
    cov_1ndcxhnlob().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[6]++, require("next/server"));
const _nextauth =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[7]++, require("next-auth"));
const _auth =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[8]++, require("../../lib/auth"));
const _logger =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[9]++, require("../../lib/logger"));
const _apierrors =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[10]++, require("../../lib/api-errors"));
const _ratelimit =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[11]++, require("../../lib/rate-limit"));
const _zod =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[12]++, require("zod"));
// Feedback schemas
const FeedbackSchema =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[13]++, _zod.z.object({
  type: _zod.z.enum(['bug', 'feature', 'migration', 'general', 'data_loss', 'performance', 'access', 'technical']),
  rating: _zod.z.enum(['positive', 'negative', 'neutral']).optional(),
  title: _zod.z.string().min(1).max(200),
  description: _zod.z.string().min(10).max(2000),
  email: _zod.z.string().email().optional(),
  userAgent: _zod.z.string().optional(),
  url: _zod.z.string().url().optional(),
  timestamp: _zod.z.string().datetime().optional()
}));
const GetFeedbackSchema =
/* istanbul ignore next */
(cov_1ndcxhnlob().s[14]++, _zod.z.object({
  limit: _zod.z.number().min(1).max(100).optional().default(50),
  offset: _zod.z.number().min(0).optional().default(0),
  type: _zod.z.enum(['bug', 'feature', 'migration', 'general']).optional(),
  rating: _zod.z.enum(['positive', 'negative', 'neutral']).optional()
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[3]++;
  cov_1ndcxhnlob().s[15]++;
  return (0, _ratelimit.withRateLimit)(request, async () => {
    /* istanbul ignore next */
    cov_1ndcxhnlob().f[4]++;
    cov_1ndcxhnlob().s[16]++;
    try {
      const session =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[17]++, await (0, _nextauth.getServerSession)(_auth.authOptions));
      const body =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[18]++, await request.json());
      const feedbackData =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[19]++, FeedbackSchema.parse(body));
      // Create feedback record
      const feedback =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[20]++, {
        id: crypto.randomUUID(),
        user_id:
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[0][0]++, session?.user?.id) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[0][1]++, null),
        type: feedbackData.type,
        rating: feedbackData.rating,
        title: feedbackData.title,
        description: feedbackData.description,
        email: feedbackData.email,
        user_agent: feedbackData.userAgent,
        url: feedbackData.url,
        created_at:
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[1][0]++, feedbackData.timestamp) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[1][1]++, new Date().toISOString()),
        status: 'new'
      });
      // Store feedback in database (this would be implemented with your database)
      // For now, we'll log it and return success
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[21]++;
      _logger.logger.info('Feedback submitted', {
        feedbackId: feedback.id,
        userId: feedback.user_id,
        type: feedback.type,
        rating: feedback.rating,
        title: feedback.title
      });
      // Send notification for migration issues
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[22]++;
      if (
      /* istanbul ignore next */
      (cov_1ndcxhnlob().b[3][0]++, feedback.type === 'migration') ||
      /* istanbul ignore next */
      (cov_1ndcxhnlob().b[3][1]++, feedback.type === 'data_loss')) {
        /* istanbul ignore next */
        cov_1ndcxhnlob().b[2][0]++;
        cov_1ndcxhnlob().s[23]++;
        await sendMigrationIssueNotification(feedback);
      } else
      /* istanbul ignore next */
      {
        cov_1ndcxhnlob().b[2][1]++;
      }
      // Send notification for critical bugs
      cov_1ndcxhnlob().s[24]++;
      if (
      /* istanbul ignore next */
      (cov_1ndcxhnlob().b[5][0]++, feedback.type === 'bug') &&
      /* istanbul ignore next */
      (cov_1ndcxhnlob().b[5][1]++, feedback.rating === 'negative')) {
        /* istanbul ignore next */
        cov_1ndcxhnlob().b[4][0]++;
        cov_1ndcxhnlob().s[25]++;
        await sendBugReportNotification(feedback);
      } else
      /* istanbul ignore next */
      {
        cov_1ndcxhnlob().b[4][1]++;
      }
      cov_1ndcxhnlob().s[26]++;
      return _server.NextResponse.json({
        success: true,
        data: {
          feedback_id: feedback.id,
          message: 'Feedback submitted successfully'
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[27]++;
      _logger.logger.error('Failed to submit feedback', {
        error
      });
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[28]++;
      return (0, _apierrors.formatErrorResponse)('Failed to submit feedback', 500);
    }
  });
}
async function GET(request) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[5]++;
  cov_1ndcxhnlob().s[29]++;
  return (0, _ratelimit.withRateLimit)(request, async () => {
    /* istanbul ignore next */
    cov_1ndcxhnlob().f[6]++;
    cov_1ndcxhnlob().s[30]++;
    try {
      const session =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[31]++, await (0, _nextauth.getServerSession)(_auth.authOptions));
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[32]++;
      if (!session?.user) {
        /* istanbul ignore next */
        cov_1ndcxhnlob().b[6][0]++;
        cov_1ndcxhnlob().s[33]++;
        return (0, _apierrors.formatErrorResponse)('Unauthorized', 401);
      } else
      /* istanbul ignore next */
      {
        cov_1ndcxhnlob().b[6][1]++;
      }
      // Check admin privileges for viewing all feedback
      const {
        data: user
      } =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[34]++, await fetch(`${process.env.NEXTAUTH_URL}/api/user/profile`, {
        headers: {
          Authorization: `Bearer ${session.accessToken}`
        }
      }).then(res => {
        /* istanbul ignore next */
        cov_1ndcxhnlob().f[7]++;
        cov_1ndcxhnlob().s[35]++;
        return res.json();
      }));
      const {
        searchParams
      } =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[36]++, new URL(request.url));
      const query =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[37]++, {
        limit: parseInt(
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[7][0]++, searchParams.get('limit')) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[7][1]++, '50')),
        offset: parseInt(
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[8][0]++, searchParams.get('offset')) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[8][1]++, '0')),
        type:
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[9][0]++, searchParams.get('type')) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[9][1]++, undefined),
        rating:
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[10][0]++, searchParams.get('rating')) ||
        /* istanbul ignore next */
        (cov_1ndcxhnlob().b[10][1]++, undefined)
      });
      const validatedQuery =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[38]++, GetFeedbackSchema.parse(query));
      // Get feedback from database
      // This would be implemented with your database
      const feedback =
      /* istanbul ignore next */
      (cov_1ndcxhnlob().s[39]++, await getFeedback(session.user.id, validatedQuery, user?.is_admin));
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[40]++;
      return _server.NextResponse.json({
        success: true,
        data: {
          feedback,
          count: feedback.length
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[41]++;
      _logger.logger.error('Failed to get feedback', {
        error
      });
      /* istanbul ignore next */
      cov_1ndcxhnlob().s[42]++;
      return (0, _apierrors.formatErrorResponse)('Failed to get feedback', 500);
    }
  });
}
// Helper functions (these would be implemented with your database)
async function getFeedback(userId, query, isAdmin) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[8]++;
  cov_1ndcxhnlob().s[43]++;
  // This would query your database for feedback
  // For now, return empty array
  return [];
}
async function sendMigrationIssueNotification(feedback) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[9]++;
  cov_1ndcxhnlob().s[44]++;
  // Send notification to support team for migration issues
  _logger.logger.info('Migration issue notification sent', {
    feedbackId: feedback.id,
    type: feedback.type,
    title: feedback.title
  });
  // This could send an email, Slack message, or create a support ticket
  // Example implementation:
  /*
    const emailContent = `
      Migration Issue Reported:
      - Type: ${feedback.type}
      - Title: ${feedback.title}
      - Description: ${feedback.description}
      - User Email: ${feedback.email}
      - URL: ${feedback.url}
    `
    
    await sendEmail('support@rekonnlabs.com', 'Migration Issue Reported', emailContent)
    */
}
async function sendBugReportNotification(feedback) {
  /* istanbul ignore next */
  cov_1ndcxhnlob().f[10]++;
  cov_1ndcxhnlob().s[45]++;
  // Send notification to development team for bug reports
  _logger.logger.info('Bug report notification sent', {
    feedbackId: feedback.id,
    title: feedback.title,
    rating: feedback.rating
  });
  // This could send an email, create a GitHub issue, or notify the dev team
  // Example implementation:
  /*
    const bugReport = `
      Bug Report:
      - Title: ${feedback.title}
      - Description: ${feedback.description}
      - User Agent: ${feedback.user_agent}
      - URL: ${feedback.url}
      - Rating: ${feedback.rating}
    `
    
    await createGitHubIssue('Bug Report', bugReport, 'bug')
    */
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMW5kY3hobmxvYiIsImYiLCJzIiwiUE9TVCIsIkZlZWRiYWNrU2NoZW1hIiwiX3pvZCIsInoiLCJvYmplY3QiLCJ0eXBlIiwiZW51bSIsInJhdGluZyIsIm9wdGlvbmFsIiwidGl0bGUiLCJzdHJpbmciLCJtaW4iLCJtYXgiLCJkZXNjcmlwdGlvbiIsImVtYWlsIiwidXNlckFnZW50IiwidXJsIiwidGltZXN0YW1wIiwiZGF0ZXRpbWUiLCJHZXRGZWVkYmFja1NjaGVtYSIsImxpbWl0IiwibnVtYmVyIiwiZGVmYXVsdCIsIm9mZnNldCIsInJlcXVlc3QiLCJfcmF0ZWxpbWl0Iiwid2l0aFJhdGVMaW1pdCIsInNlc3Npb24iLCJfbmV4dGF1dGgiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiX2F1dGgiLCJhdXRoT3B0aW9ucyIsImJvZHkiLCJqc29uIiwiZmVlZGJhY2tEYXRhIiwicGFyc2UiLCJmZWVkYmFjayIsImlkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsInVzZXJfaWQiLCJiIiwidXNlciIsInVzZXJfYWdlbnQiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwiX2xvZ2dlciIsImxvZ2dlciIsImluZm8iLCJmZWVkYmFja0lkIiwidXNlcklkIiwic2VuZE1pZ3JhdGlvbklzc3VlTm90aWZpY2F0aW9uIiwic2VuZEJ1Z1JlcG9ydE5vdGlmaWNhdGlvbiIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJzdWNjZXNzIiwiZGF0YSIsImZlZWRiYWNrX2lkIiwibWVzc2FnZSIsImVycm9yIiwiX2FwaWVycm9ycyIsImZvcm1hdEVycm9yUmVzcG9uc2UiLCJmZXRjaCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImFjY2Vzc1Rva2VuIiwidGhlbiIsInJlcyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInF1ZXJ5IiwicGFyc2VJbnQiLCJnZXQiLCJ1bmRlZmluZWQiLCJ2YWxpZGF0ZWRRdWVyeSIsImdldEZlZWRiYWNrIiwiaXNfYWRtaW4iLCJjb3VudCIsImxlbmd0aCIsImlzQWRtaW4iXSwic291cmNlcyI6WyJSOlxcQXBwc1xcQnJpZWZseV9DbG91ZFxcYnJpZWZseS1jbG91ZC1uZXh0anNcXHNyY1xcYXBwXFxhcGlcXGZlZWRiYWNrXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXHJcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9hcHAvbGliL2F1dGgnXHJcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvYXBwL2xpYi9sb2dnZXInXHJcbmltcG9ydCB7IGZvcm1hdEVycm9yUmVzcG9uc2UgfSBmcm9tICdAL2FwcC9saWIvYXBpLWVycm9ycydcclxuaW1wb3J0IHsgd2l0aFJhdGVMaW1pdCB9IGZyb20gJ0AvYXBwL2xpYi9yYXRlLWxpbWl0J1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJ1xyXG5cclxuLy8gRmVlZGJhY2sgc2NoZW1hc1xyXG5jb25zdCBGZWVkYmFja1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICB0eXBlOiB6LmVudW0oWydidWcnLCAnZmVhdHVyZScsICdtaWdyYXRpb24nLCAnZ2VuZXJhbCcsICdkYXRhX2xvc3MnLCAncGVyZm9ybWFuY2UnLCAnYWNjZXNzJywgJ3RlY2huaWNhbCddKSxcclxuICByYXRpbmc6IHouZW51bShbJ3Bvc2l0aXZlJywgJ25lZ2F0aXZlJywgJ25ldXRyYWwnXSkub3B0aW9uYWwoKSxcclxuICB0aXRsZTogei5zdHJpbmcoKS5taW4oMSkubWF4KDIwMCksXHJcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkubWluKDEwKS5tYXgoMjAwMCksXHJcbiAgZW1haWw6IHouc3RyaW5nKCkuZW1haWwoKS5vcHRpb25hbCgpLFxyXG4gIHVzZXJBZ2VudDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxyXG4gIHVybDogei5zdHJpbmcoKS51cmwoKS5vcHRpb25hbCgpLFxyXG4gIHRpbWVzdGFtcDogei5zdHJpbmcoKS5kYXRldGltZSgpLm9wdGlvbmFsKCksXHJcbn0pXHJcblxyXG5jb25zdCBHZXRGZWVkYmFja1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBsaW1pdDogei5udW1iZXIoKS5taW4oMSkubWF4KDEwMCkub3B0aW9uYWwoKS5kZWZhdWx0KDUwKSxcclxuICBvZmZzZXQ6IHoubnVtYmVyKCkubWluKDApLm9wdGlvbmFsKCkuZGVmYXVsdCgwKSxcclxuICB0eXBlOiB6LmVudW0oWydidWcnLCAnZmVhdHVyZScsICdtaWdyYXRpb24nLCAnZ2VuZXJhbCddKS5vcHRpb25hbCgpLFxyXG4gIHJhdGluZzogei5lbnVtKFsncG9zaXRpdmUnLCAnbmVnYXRpdmUnLCAnbmV1dHJhbCddKS5vcHRpb25hbCgpLFxyXG59KVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICByZXR1cm4gd2l0aFJhdGVMaW1pdChyZXF1ZXN0LCBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcclxuICAgICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpXHJcbiAgICAgIGNvbnN0IGZlZWRiYWNrRGF0YSA9IEZlZWRiYWNrU2NoZW1hLnBhcnNlKGJvZHkpXHJcblxyXG4gICAgICAvLyBDcmVhdGUgZmVlZGJhY2sgcmVjb3JkXHJcbiAgICAgIGNvbnN0IGZlZWRiYWNrID0ge1xyXG4gICAgICAgIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gICAgICAgIHVzZXJfaWQ6IHNlc3Npb24/LnVzZXI/LmlkIHx8IG51bGwsXHJcbiAgICAgICAgdHlwZTogZmVlZGJhY2tEYXRhLnR5cGUsXHJcbiAgICAgICAgcmF0aW5nOiBmZWVkYmFja0RhdGEucmF0aW5nLFxyXG4gICAgICAgIHRpdGxlOiBmZWVkYmFja0RhdGEudGl0bGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGZlZWRiYWNrRGF0YS5kZXNjcmlwdGlvbixcclxuICAgICAgICBlbWFpbDogZmVlZGJhY2tEYXRhLmVtYWlsLFxyXG4gICAgICAgIHVzZXJfYWdlbnQ6IGZlZWRiYWNrRGF0YS51c2VyQWdlbnQsXHJcbiAgICAgICAgdXJsOiBmZWVkYmFja0RhdGEudXJsLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQ6IGZlZWRiYWNrRGF0YS50aW1lc3RhbXAgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHN0YXR1czogJ25ldycsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFN0b3JlIGZlZWRiYWNrIGluIGRhdGFiYXNlICh0aGlzIHdvdWxkIGJlIGltcGxlbWVudGVkIHdpdGggeW91ciBkYXRhYmFzZSlcclxuICAgICAgLy8gRm9yIG5vdywgd2UnbGwgbG9nIGl0IGFuZCByZXR1cm4gc3VjY2Vzc1xyXG4gICAgICBsb2dnZXIuaW5mbygnRmVlZGJhY2sgc3VibWl0dGVkJywge1xyXG4gICAgICAgIGZlZWRiYWNrSWQ6IGZlZWRiYWNrLmlkLFxyXG4gICAgICAgIHVzZXJJZDogZmVlZGJhY2sudXNlcl9pZCxcclxuICAgICAgICB0eXBlOiBmZWVkYmFjay50eXBlLFxyXG4gICAgICAgIHJhdGluZzogZmVlZGJhY2sucmF0aW5nLFxyXG4gICAgICAgIHRpdGxlOiBmZWVkYmFjay50aXRsZSxcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIFNlbmQgbm90aWZpY2F0aW9uIGZvciBtaWdyYXRpb24gaXNzdWVzXHJcbiAgICAgIGlmIChmZWVkYmFjay50eXBlID09PSAnbWlncmF0aW9uJyB8fCBmZWVkYmFjay50eXBlID09PSAnZGF0YV9sb3NzJykge1xyXG4gICAgICAgIGF3YWl0IHNlbmRNaWdyYXRpb25Jc3N1ZU5vdGlmaWNhdGlvbihmZWVkYmFjaylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2VuZCBub3RpZmljYXRpb24gZm9yIGNyaXRpY2FsIGJ1Z3NcclxuICAgICAgaWYgKGZlZWRiYWNrLnR5cGUgPT09ICdidWcnICYmIGZlZWRiYWNrLnJhdGluZyA9PT0gJ25lZ2F0aXZlJykge1xyXG4gICAgICAgIGF3YWl0IHNlbmRCdWdSZXBvcnROb3RpZmljYXRpb24oZmVlZGJhY2spXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBmZWVkYmFja19pZDogZmVlZGJhY2suaWQsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnRmVlZGJhY2sgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc3VibWl0IGZlZWRiYWNrJywgeyBlcnJvciB9KVxyXG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3JSZXNwb25zZSgnRmFpbGVkIHRvIHN1Ym1pdCBmZWVkYmFjaycsIDUwMClcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgcmV0dXJuIHdpdGhSYXRlTGltaXQocmVxdWVzdCwgYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpXHJcbiAgICAgIGlmICghc2Vzc2lvbj8udXNlcikge1xyXG4gICAgICAgIHJldHVybiBmb3JtYXRFcnJvclJlc3BvbnNlKCdVbmF1dGhvcml6ZWQnLCA0MDEpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGFkbWluIHByaXZpbGVnZXMgZm9yIHZpZXdpbmcgYWxsIGZlZWRiYWNrXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlciB9ID0gYXdhaXQgZmV0Y2goYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9hcGkvdXNlci9wcm9maWxlYCwge1xyXG4gICAgICAgIGhlYWRlcnM6IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Nlc3Npb24uYWNjZXNzVG9rZW59YCB9XHJcbiAgICAgIH0pLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblxyXG4gICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgICAgY29uc3QgcXVlcnkgPSB7XHJcbiAgICAgICAgbGltaXQ6IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzUwJyksXHJcbiAgICAgICAgb2Zmc2V0OiBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdvZmZzZXQnKSB8fCAnMCcpLFxyXG4gICAgICAgIHR5cGU6IHNlYXJjaFBhcmFtcy5nZXQoJ3R5cGUnKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgcmF0aW5nOiBzZWFyY2hQYXJhbXMuZ2V0KCdyYXRpbmcnKSB8fCB1bmRlZmluZWQsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHZhbGlkYXRlZFF1ZXJ5ID0gR2V0RmVlZGJhY2tTY2hlbWEucGFyc2UocXVlcnkpXHJcblxyXG4gICAgICAvLyBHZXQgZmVlZGJhY2sgZnJvbSBkYXRhYmFzZVxyXG4gICAgICAvLyBUaGlzIHdvdWxkIGJlIGltcGxlbWVudGVkIHdpdGggeW91ciBkYXRhYmFzZVxyXG4gICAgICBjb25zdCBmZWVkYmFjayA9IGF3YWl0IGdldEZlZWRiYWNrKHNlc3Npb24udXNlci5pZCwgdmFsaWRhdGVkUXVlcnksIHVzZXI/LmlzX2FkbWluKVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGZlZWRiYWNrLFxyXG4gICAgICAgICAgY291bnQ6IGZlZWRiYWNrLmxlbmd0aCxcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZ2V0IGZlZWRiYWNrJywgeyBlcnJvciB9KVxyXG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3JSZXNwb25zZSgnRmFpbGVkIHRvIGdldCBmZWVkYmFjaycsIDUwMClcclxuICAgIH1cclxuICB9KVxyXG59XHJcblxyXG4vLyBIZWxwZXIgZnVuY3Rpb25zICh0aGVzZSB3b3VsZCBiZSBpbXBsZW1lbnRlZCB3aXRoIHlvdXIgZGF0YWJhc2UpXHJcbmFzeW5jIGZ1bmN0aW9uIGdldEZlZWRiYWNrKHVzZXJJZDogc3RyaW5nLCBxdWVyeTogYW55LCBpc0FkbWluOiBib29sZWFuKSB7XHJcbiAgLy8gVGhpcyB3b3VsZCBxdWVyeSB5b3VyIGRhdGFiYXNlIGZvciBmZWVkYmFja1xyXG4gIC8vIEZvciBub3csIHJldHVybiBlbXB0eSBhcnJheVxyXG4gIHJldHVybiBbXVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBzZW5kTWlncmF0aW9uSXNzdWVOb3RpZmljYXRpb24oZmVlZGJhY2s6IGFueSkge1xyXG4gIC8vIFNlbmQgbm90aWZpY2F0aW9uIHRvIHN1cHBvcnQgdGVhbSBmb3IgbWlncmF0aW9uIGlzc3Vlc1xyXG4gIGxvZ2dlci5pbmZvKCdNaWdyYXRpb24gaXNzdWUgbm90aWZpY2F0aW9uIHNlbnQnLCB7XHJcbiAgICBmZWVkYmFja0lkOiBmZWVkYmFjay5pZCxcclxuICAgIHR5cGU6IGZlZWRiYWNrLnR5cGUsXHJcbiAgICB0aXRsZTogZmVlZGJhY2sudGl0bGUsXHJcbiAgfSlcclxuXHJcbiAgLy8gVGhpcyBjb3VsZCBzZW5kIGFuIGVtYWlsLCBTbGFjayBtZXNzYWdlLCBvciBjcmVhdGUgYSBzdXBwb3J0IHRpY2tldFxyXG4gIC8vIEV4YW1wbGUgaW1wbGVtZW50YXRpb246XHJcbiAgLypcclxuICBjb25zdCBlbWFpbENvbnRlbnQgPSBgXHJcbiAgICBNaWdyYXRpb24gSXNzdWUgUmVwb3J0ZWQ6XHJcbiAgICAtIFR5cGU6ICR7ZmVlZGJhY2sudHlwZX1cclxuICAgIC0gVGl0bGU6ICR7ZmVlZGJhY2sudGl0bGV9XHJcbiAgICAtIERlc2NyaXB0aW9uOiAke2ZlZWRiYWNrLmRlc2NyaXB0aW9ufVxyXG4gICAgLSBVc2VyIEVtYWlsOiAke2ZlZWRiYWNrLmVtYWlsfVxyXG4gICAgLSBVUkw6ICR7ZmVlZGJhY2sudXJsfVxyXG4gIGBcclxuICBcclxuICBhd2FpdCBzZW5kRW1haWwoJ3N1cHBvcnRAcmVrb25ubGFicy5jb20nLCAnTWlncmF0aW9uIElzc3VlIFJlcG9ydGVkJywgZW1haWxDb250ZW50KVxyXG4gICovXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHNlbmRCdWdSZXBvcnROb3RpZmljYXRpb24oZmVlZGJhY2s6IGFueSkge1xyXG4gIC8vIFNlbmQgbm90aWZpY2F0aW9uIHRvIGRldmVsb3BtZW50IHRlYW0gZm9yIGJ1ZyByZXBvcnRzXHJcbiAgbG9nZ2VyLmluZm8oJ0J1ZyByZXBvcnQgbm90aWZpY2F0aW9uIHNlbnQnLCB7XHJcbiAgICBmZWVkYmFja0lkOiBmZWVkYmFjay5pZCxcclxuICAgIHRpdGxlOiBmZWVkYmFjay50aXRsZSxcclxuICAgIHJhdGluZzogZmVlZGJhY2sucmF0aW5nLFxyXG4gIH0pXHJcblxyXG4gIC8vIFRoaXMgY291bGQgc2VuZCBhbiBlbWFpbCwgY3JlYXRlIGEgR2l0SHViIGlzc3VlLCBvciBub3RpZnkgdGhlIGRldiB0ZWFtXHJcbiAgLy8gRXhhbXBsZSBpbXBsZW1lbnRhdGlvbjpcclxuICAvKlxyXG4gIGNvbnN0IGJ1Z1JlcG9ydCA9IGBcclxuICAgIEJ1ZyBSZXBvcnQ6XHJcbiAgICAtIFRpdGxlOiAke2ZlZWRiYWNrLnRpdGxlfVxyXG4gICAgLSBEZXNjcmlwdGlvbjogJHtmZWVkYmFjay5kZXNjcmlwdGlvbn1cclxuICAgIC0gVXNlciBBZ2VudDogJHtmZWVkYmFjay51c2VyX2FnZW50fVxyXG4gICAgLSBVUkw6ICR7ZmVlZGJhY2sudXJsfVxyXG4gICAgLSBSYXRpbmc6ICR7ZmVlZGJhY2sucmF0aW5nfVxyXG4gIGBcclxuICBcclxuICBhd2FpdCBjcmVhdGVHaXRIdWJJc3N1ZSgnQnVnIFJlcG9ydCcsIGJ1Z1JlcG9ydCwgJ2J1ZycpXHJcbiAgKi9cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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