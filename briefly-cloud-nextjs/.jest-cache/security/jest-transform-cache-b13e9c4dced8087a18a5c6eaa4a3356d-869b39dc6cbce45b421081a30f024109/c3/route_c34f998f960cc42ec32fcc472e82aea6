c552a5e4f4d047c08cb4d16fedb7f06c
"use strict";

/* istanbul ignore next */
function cov_17u0ppyqud() {
  var path = "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\chat\\route.ts";
  var hash = "ea63530235d83d23b0ad8bf0c85f3599be8d7181";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\chat\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 5,
          column: 0
        },
        end: {
          line: 10,
          column: 3
        }
      },
      "2": {
        start: {
          line: 8,
          column: 8
        },
        end: {
          line: 8,
          column: 20
        }
      },
      "3": {
        start: {
          line: 11,
          column: 16
        },
        end: {
          line: 11,
          column: 38
        }
      },
      "4": {
        start: {
          line: 12,
          column: 23
        },
        end: {
          line: 12,
          column: 58
        }
      },
      "5": {
        start: {
          line: 13,
          column: 18
        },
        end: {
          line: 13,
          column: 48
        }
      },
      "6": {
        start: {
          line: 14,
          column: 19
        },
        end: {
          line: 14,
          column: 50
        }
      },
      "7": {
        start: {
          line: 15,
          column: 13
        },
        end: {
          line: 15,
          column: 27
        }
      },
      "8": {
        start: {
          line: 16,
          column: 16
        },
        end: {
          line: 16,
          column: 43
        }
      },
      "9": {
        start: {
          line: 17,
          column: 18
        },
        end: {
          line: 17,
          column: 47
        }
      },
      "10": {
        start: {
          line: 18,
          column: 21
        },
        end: {
          line: 18,
          column: 53
        }
      },
      "11": {
        start: {
          line: 20,
          column: 4
        },
        end: {
          line: 20,
          column: 51
        }
      },
      "12": {
        start: {
          line: 20,
          column: 39
        },
        end: {
          line: 20,
          column: 51
        }
      },
      "13": {
        start: {
          line: 21,
          column: 28
        },
        end: {
          line: 21,
          column: 41
        }
      },
      "14": {
        start: {
          line: 22,
          column: 27
        },
        end: {
          line: 22,
          column: 40
        }
      },
      "15": {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 25,
          column: 20
        }
      },
      "16": {
        start: {
          line: 24,
          column: 8
        },
        end: {
          line: 24,
          column: 66
        }
      },
      "17": {
        start: {
          line: 28,
          column: 4
        },
        end: {
          line: 30,
          column: 5
        }
      },
      "18": {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 19
        }
      },
      "19": {
        start: {
          line: 31,
          column: 4
        },
        end: {
          line: 35,
          column: 5
        }
      },
      "20": {
        start: {
          line: 32,
          column: 8
        },
        end: {
          line: 34,
          column: 10
        }
      },
      "21": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 36,
          column: 53
        }
      },
      "22": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 39,
          column: 5
        }
      },
      "23": {
        start: {
          line: 38,
          column: 8
        },
        end: {
          line: 38,
          column: 30
        }
      },
      "24": {
        start: {
          line: 40,
          column: 17
        },
        end: {
          line: 42,
          column: 5
        }
      },
      "25": {
        start: {
          line: 43,
          column: 32
        },
        end: {
          line: 43,
          column: 88
        }
      },
      "26": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 53,
          column: 5
        }
      },
      "27": {
        start: {
          line: 45,
          column: 8
        },
        end: {
          line: 52,
          column: 9
        }
      },
      "28": {
        start: {
          line: 46,
          column: 23
        },
        end: {
          line: 46,
          column: 95
        }
      },
      "29": {
        start: {
          line: 47,
          column: 12
        },
        end: {
          line: 51,
          column: 13
        }
      },
      "30": {
        start: {
          line: 48,
          column: 16
        },
        end: {
          line: 48,
          column: 57
        }
      },
      "31": {
        start: {
          line: 50,
          column: 16
        },
        end: {
          line: 50,
          column: 39
        }
      },
      "32": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 54,
          column: 25
        }
      },
      "33": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 57,
          column: 5
        }
      },
      "34": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 31
        }
      },
      "35": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 18
        }
      },
      "36": {
        start: {
          line: 60,
          column: 19
        },
        end: {
          line: 64,
          column: 2
        }
      },
      "37": {
        start: {
          line: 66,
          column: 21
        },
        end: {
          line: 66,
          column: 28
        }
      },
      "38": {
        start: {
          line: 67,
          column: 4
        },
        end: {
          line: 67,
          column: 83
        }
      },
      "39": {
        start: {
          line: 67,
          column: 15
        },
        end: {
          line: 67,
          column: 83
        }
      },
      "40": {
        start: {
          line: 68,
          column: 17
        },
        end: {
          line: 68,
          column: 53
        }
      },
      "41": {
        start: {
          line: 68,
          column: 49
        },
        end: {
          line: 68,
          column: 51
        }
      },
      "42": {
        start: {
          line: 69,
          column: 19
        },
        end: {
          line: 69,
          column: 45
        }
      },
      "43": {
        start: {
          line: 70,
          column: 4
        },
        end: {
          line: 70,
          column: 89
        }
      },
      "44": {
        start: {
          line: 70,
          column: 25
        },
        end: {
          line: 70,
          column: 89
        }
      },
      "45": {
        start: {
          line: 71,
          column: 48
        },
        end: {
          line: 71,
          column: 59
        }
      },
      "46": {
        start: {
          line: 72,
          column: 21
        },
        end: {
          line: 72,
          column: 44
        }
      },
      "47": {
        start: {
          line: 74,
          column: 18
        },
        end: {
          line: 74,
          column: 32
        }
      },
      "48": {
        start: {
          line: 75,
          column: 4
        },
        end: {
          line: 81,
          column: 5
        }
      },
      "49": {
        start: {
          line: 76,
          column: 25
        },
        end: {
          line: 79,
          column: 32
        }
      },
      "50": {
        start: {
          line: 80,
          column: 8
        },
        end: {
          line: 80,
          column: 27
        }
      },
      "51": {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 89,
          column: 5
        }
      },
      "52": {
        start: {
          line: 84,
          column: 8
        },
        end: {
          line: 88,
          column: 11
        }
      },
      "53": {
        start: {
          line: 91,
          column: 32
        },
        end: {
          line: 91,
          column: 153
        }
      },
      "54": {
        start: {
          line: 91,
          column: 79
        },
        end: {
          line: 91,
          column: 152
        }
      },
      "55": {
        start: {
          line: 92,
          column: 27
        },
        end: {
          line: 95,
          column: 11
        }
      },
      "56": {
        start: {
          line: 92,
          column: 84
        },
        end: {
          line: 95,
          column: 10
        }
      },
      "57": {
        start: {
          line: 96,
          column: 24
        },
        end: {
          line: 96,
          column: 164
        }
      },
      "58": {
        start: {
          line: 96,
          column: 51
        },
        end: {
          line: 96,
          column: 150
        }
      },
      "59": {
        start: {
          line: 97,
          column: 25
        },
        end: {
          line: 97,
          column: 264
        }
      },
      "60": {
        start: {
          line: 98,
          column: 21
        },
        end: {
          line: 107,
          column: 5
        }
      },
      "61": {
        start: {
          line: 108,
          column: 17
        },
        end: {
          line: 108,
          column: 49
        }
      },
      "62": {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 127,
          column: 5
        }
      },
      "63": {
        start: {
          line: 110,
          column: 27
        },
        end: {
          line: 110,
          column: 134
        }
      },
      "64": {
        start: {
          line: 110,
          column: 84
        },
        end: {
          line: 110,
          column: 133
        }
      },
      "65": {
        start: {
          line: 112,
          column: 24
        },
        end: {
          line: 112,
          column: 41
        }
      },
      "66": {
        start: {
          line: 113,
          column: 25
        },
        end: {
          line: 120,
          column: 10
        }
      },
      "67": {
        start: {
          line: 115,
          column: 16
        },
        end: {
          line: 117,
          column: 17
        }
      },
      "68": {
        start: {
          line: 116,
          column: 20
        },
        end: {
          line: 116,
          column: 106
        }
      },
      "69": {
        start: {
          line: 118,
          column: 16
        },
        end: {
          line: 118,
          column: 35
        }
      },
      "70": {
        start: {
          line: 121,
          column: 8
        },
        end: {
          line: 126,
          column: 11
        }
      },
      "71": {
        start: {
          line: 128,
          column: 23
        },
        end: {
          line: 128,
          column: 132
        }
      },
      "72": {
        start: {
          line: 128,
          column: 80
        },
        end: {
          line: 128,
          column: 131
        }
      },
      "73": {
        start: {
          line: 129,
          column: 4
        },
        end: {
          line: 141,
          column: 5
        }
      },
      "74": {
        start: {
          line: 130,
          column: 8
        },
        end: {
          line: 140,
          column: 11
        }
      },
      "75": {
        start: {
          line: 134,
          column: 46
        },
        end: {
          line: 139,
          column: 17
        }
      },
      "76": {
        start: {
          line: 142,
          column: 4
        },
        end: {
          line: 146,
          column: 7
        }
      },
      "77": {
        start: {
          line: 148,
          column: 13
        },
        end: {
          line: 154,
          column: 3
        }
      }
    },
    fnMap: {
      "0": {
        name: "(anonymous_0)",
        decl: {
          start: {
            line: 7,
            column: 9
          },
          end: {
            line: 7,
            column: 10
          }
        },
        loc: {
          start: {
            line: 7,
            column: 20
          },
          end: {
            line: 9,
            column: 5
          }
        },
        line: 7
      },
      "1": {
        name: "_getRequireWildcardCache",
        decl: {
          start: {
            line: 19,
            column: 9
          },
          end: {
            line: 19,
            column: 33
          }
        },
        loc: {
          start: {
            line: 19,
            column: 47
          },
          end: {
            line: 26,
            column: 1
          }
        },
        line: 19
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 23,
            column: 39
          },
          end: {
            line: 23,
            column: 40
          }
        },
        loc: {
          start: {
            line: 23,
            column: 61
          },
          end: {
            line: 25,
            column: 5
          }
        },
        line: 23
      },
      "3": {
        name: "_interop_require_wildcard",
        decl: {
          start: {
            line: 27,
            column: 9
          },
          end: {
            line: 27,
            column: 34
          }
        },
        loc: {
          start: {
            line: 27,
            column: 53
          },
          end: {
            line: 59,
            column: 1
          }
        },
        line: 27
      },
      "4": {
        name: "chatHandler",
        decl: {
          start: {
            line: 65,
            column: 15
          },
          end: {
            line: 65,
            column: 26
          }
        },
        loc: {
          start: {
            line: 65,
            column: 45
          },
          end: {
            line: 147,
            column: 1
          }
        },
        line: 65
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 68,
            column: 44
          },
          end: {
            line: 68,
            column: 45
          }
        },
        loc: {
          start: {
            line: 68,
            column: 49
          },
          end: {
            line: 68,
            column: 51
          }
        },
        line: 68
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 91,
            column: 61
          },
          end: {
            line: 91,
            column: 62
          }
        },
        loc: {
          start: {
            line: 91,
            column: 79
          },
          end: {
            line: 91,
            column: 152
          }
        },
        line: 91
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 92,
            column: 80
          },
          end: {
            line: 92,
            column: 81
          }
        },
        loc: {
          start: {
            line: 92,
            column: 84
          },
          end: {
            line: 95,
            column: 10
          }
        },
        line: 92
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 96,
            column: 43
          },
          end: {
            line: 96,
            column: 44
          }
        },
        loc: {
          start: {
            line: 96,
            column: 51
          },
          end: {
            line: 96,
            column: 150
          }
        },
        line: 96
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 110,
            column: 80
          },
          end: {
            line: 110,
            column: 81
          }
        },
        loc: {
          start: {
            line: 110,
            column: 84
          },
          end: {
            line: 110,
            column: 133
          }
        },
        line: 110
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 114,
            column: 12
          },
          end: {
            line: 114,
            column: 13
          }
        },
        loc: {
          start: {
            line: 114,
            column: 37
          },
          end: {
            line: 119,
            column: 13
          }
        },
        line: 114
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 128,
            column: 76
          },
          end: {
            line: 128,
            column: 77
          }
        },
        loc: {
          start: {
            line: 128,
            column: 80
          },
          end: {
            line: 128,
            column: 131
          }
        },
        line: 128
      },
      "12": {
        name: "(anonymous_12)",
        decl: {
          start: {
            line: 134,
            column: 40
          },
          end: {
            line: 134,
            column: 41
          }
        },
        loc: {
          start: {
            line: 134,
            column: 46
          },
          end: {
            line: 139,
            column: 17
          }
        },
        line: 134
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 51
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 51
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 20
      },
      "1": {
        loc: {
          start: {
            line: 24,
            column: 15
          },
          end: {
            line: 24,
            column: 65
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 24,
            column: 29
          },
          end: {
            line: 24,
            column: 45
          }
        }, {
          start: {
            line: 24,
            column: 48
          },
          end: {
            line: 24,
            column: 65
          }
        }],
        line: 24
      },
      "2": {
        loc: {
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 4
          },
          end: {
            line: 30,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 28
      },
      "3": {
        loc: {
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 45
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 28,
            column: 8
          },
          end: {
            line: 28,
            column: 20
          }
        }, {
          start: {
            line: 28,
            column: 24
          },
          end: {
            line: 28,
            column: 27
          }
        }, {
          start: {
            line: 28,
            column: 31
          },
          end: {
            line: 28,
            column: 45
          }
        }],
        line: 28
      },
      "4": {
        loc: {
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 35,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 31,
            column: 4
          },
          end: {
            line: 35,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 31
      },
      "5": {
        loc: {
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 76
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 31,
            column: 8
          },
          end: {
            line: 31,
            column: 20
          }
        }, {
          start: {
            line: 31,
            column: 24
          },
          end: {
            line: 31,
            column: 47
          }
        }, {
          start: {
            line: 31,
            column: 51
          },
          end: {
            line: 31,
            column: 76
          }
        }],
        line: 31
      },
      "6": {
        loc: {
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 4
          },
          end: {
            line: 39,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "7": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 37,
            column: 31
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 37,
            column: 13
          }
        }, {
          start: {
            line: 37,
            column: 17
          },
          end: {
            line: 37,
            column: 31
          }
        }],
        line: 37
      },
      "8": {
        loc: {
          start: {
            line: 43,
            column: 32
          },
          end: {
            line: 43,
            column: 88
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 32
          },
          end: {
            line: 43,
            column: 53
          }
        }, {
          start: {
            line: 43,
            column: 57
          },
          end: {
            line: 43,
            column: 88
          }
        }],
        line: 43
      },
      "9": {
        loc: {
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 52,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 45,
            column: 8
          },
          end: {
            line: 52,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 45
      },
      "10": {
        loc: {
          start: {
            line: 45,
            column: 12
          },
          end: {
            line: 45,
            column: 79
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 45,
            column: 12
          },
          end: {
            line: 45,
            column: 29
          }
        }, {
          start: {
            line: 45,
            column: 33
          },
          end: {
            line: 45,
            column: 79
          }
        }],
        line: 45
      },
      "11": {
        loc: {
          start: {
            line: 46,
            column: 23
          },
          end: {
            line: 46,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 46,
            column: 47
          },
          end: {
            line: 46,
            column: 88
          }
        }, {
          start: {
            line: 46,
            column: 91
          },
          end: {
            line: 46,
            column: 95
          }
        }],
        line: 46
      },
      "12": {
        loc: {
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 51,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 12
          },
          end: {
            line: 51,
            column: 13
          }
        }, {
          start: {
            line: 49,
            column: 19
          },
          end: {
            line: 51,
            column: 13
          }
        }],
        line: 47
      },
      "13": {
        loc: {
          start: {
            line: 47,
            column: 16
          },
          end: {
            line: 47,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 47,
            column: 16
          },
          end: {
            line: 47,
            column: 20
          }
        }, {
          start: {
            line: 47,
            column: 25
          },
          end: {
            line: 47,
            column: 33
          }
        }, {
          start: {
            line: 47,
            column: 37
          },
          end: {
            line: 47,
            column: 45
          }
        }],
        line: 47
      },
      "14": {
        loc: {
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 4
          },
          end: {
            line: 57,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 55
      },
      "15": {
        loc: {
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 67,
            column: 83
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 67,
            column: 4
          },
          end: {
            line: 67,
            column: 83
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 67
      },
      "16": {
        loc: {
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 70,
            column: 89
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 70,
            column: 4
          },
          end: {
            line: 70,
            column: 89
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 70
      },
      "17": {
        loc: {
          start: {
            line: 75,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 75,
            column: 4
          },
          end: {
            line: 81,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 75
      },
      "18": {
        loc: {
          start: {
            line: 83,
            column: 4
          },
          end: {
            line: 89,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 4
          },
          end: {
            line: 89,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      },
      "19": {
        loc: {
          start: {
            line: 97,
            column: 124
          },
          end: {
            line: 97,
            column: 167
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 97,
            column: 124
          },
          end: {
            line: 97,
            column: 135
          }
        }, {
          start: {
            line: 97,
            column: 139
          },
          end: {
            line: 97,
            column: 167
          }
        }],
        line: 97
      },
      "20": {
        loc: {
          start: {
            line: 108,
            column: 17
          },
          end: {
            line: 108,
            column: 49
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 108,
            column: 17
          },
          end: {
            line: 108,
            column: 39
          }
        }, {
          start: {
            line: 108,
            column: 43
          },
          end: {
            line: 108,
            column: 49
          }
        }],
        line: 108
      },
      "21": {
        loc: {
          start: {
            line: 109,
            column: 4
          },
          end: {
            line: 127,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 109,
            column: 4
          },
          end: {
            line: 127,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 109
      },
      "22": {
        loc: {
          start: {
            line: 116,
            column: 54
          },
          end: {
            line: 116,
            column: 103
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 116,
            column: 82
          },
          end: {
            line: 116,
            column: 87
          }
        }, {
          start: {
            line: 116,
            column: 90
          },
          end: {
            line: 116,
            column: 103
          }
        }],
        line: 116
      },
      "23": {
        loc: {
          start: {
            line: 129,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 129,
            column: 4
          },
          end: {
            line: 141,
            column: 5
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 129
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0,
      "66": 0,
      "67": 0,
      "68": 0,
      "69": 0,
      "70": 0,
      "71": 0,
      "72": 0,
      "73": 0,
      "74": 0,
      "75": 0,
      "76": 0,
      "77": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0],
      "4": [0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\chat\\route.ts"],
      sourcesContent: ["import { NextResponse } from 'next/server'\r\nimport { createProtectedApiHandler, ApiContext } from '@/app/lib/api-middleware'\r\nimport { ApiResponse } from '@/app/lib/api-utils'\r\nimport { rateLimitConfigs } from '@/app/lib/rate-limit'\r\nimport { z } from 'zod'\r\nimport { searchDocumentContext } from '@/app/lib/vector-storage'\r\nimport { generateChatCompletion, streamChatCompletion, SubscriptionTier } from '@/app/lib/openai'\r\nimport { supabaseAdmin } from '@/app/lib/supabase'\r\nimport { cacheManager, CACHE_KEYS } from '@/app/lib/cache'\r\nimport { withPerformanceMonitoring, withApiPerformanceMonitoring } from '@/app/lib/performance'\r\n\r\nconst chatSchema = z.object({\r\n  message: z.string().min(1).max(2000),\r\n  conversationId: z.string().uuid().optional(),\r\n  stream: z.boolean().optional().default(true),\r\n})\r\n\r\nasync function chatHandler(request: Request, context: ApiContext): Promise<NextResponse> {\r\n  const { user } = context\r\n  if (!user) return ApiResponse.unauthorized('User not authenticated')\r\n\r\n  const body = await request.json().catch(() => ({}))\r\n  const parsed = chatSchema.safeParse(body)\r\n  if (!parsed.success) return ApiResponse.badRequest('Invalid request data')\r\n\r\n  const { message, conversationId, stream } = parsed.data\r\n\r\n  const supabase = supabaseAdmin\r\n\r\n  // Prepare conversation\r\n  let convoId = conversationId\r\n  if (!convoId) {\r\n    const { data } = await supabase\r\n      .from('conversations')\r\n      .insert({ user_id: user.id, title: message.slice(0, 80) })\r\n      .select('id')\r\n      .single()\r\n    convoId = data?.id\r\n  }\r\n\r\n  // Save user message\r\n  if (convoId) {\r\n    await supabase\r\n      .from('chat_messages')\r\n      .insert({ conversation_id: convoId, role: 'user', content: message })\r\n  }\r\n\r\n  // Retrieve context via new vector search with performance monitoring\r\n  const { searchDocuments } = await import('@/app/lib/vector/document-processor')\r\n  const contextResults = await withApiPerformanceMonitoring(() =>\r\n    searchDocuments(user.id, message, {\r\n      limit: 5,\r\n      threshold: 0.7,\r\n    })\r\n  )\r\n\r\n  const contextText = contextResults\r\n    .map((r, i) => `Source ${i + 1} [${r.fileName} #${r.chunkIndex} | score=${r.similarity.toFixed(2)}]\\n${r.content}`)\r\n    .join('\\n\\n')\r\n\r\n  const systemPrompt = `You are Briefly, an AI assistant. Use the provided document context when relevant.\\n\\nContext:\\n${contextText || 'No relevant context found.'}\\n\\nIf the context is insufficient, say so explicitly. Cite filenames when referencing sources.`\r\n\r\n  const messages = [\r\n    { role: 'system', content: systemPrompt },\r\n    { role: 'user', content: message },\r\n  ] as any\r\n\r\n  const tier = (user.subscription_tier || 'free') as SubscriptionTier\r\n\r\n  if (stream) {\r\n    const streamResp = await withApiPerformanceMonitoring(() =>\r\n      streamChatCompletion(messages, tier)\r\n    )\r\n    \r\n    // Pipe through a basic text stream response\r\n    const encoder = new TextEncoder()\r\n    const readable = new ReadableStream({\r\n      async start(controller) {\r\n        for await (const chunk of streamResp) {\r\n          controller.enqueue(encoder.encode(typeof chunk === 'string' ? chunk : String(chunk)))\r\n        }\r\n        controller.close()\r\n      },\r\n    })\r\n\r\n    return new NextResponse(readable, {\r\n      headers: {\r\n        'Content-Type': 'text/plain; charset=utf-8',\r\n        'Cache-Control': 'no-cache',\r\n      },\r\n    })\r\n  }\r\n\r\n  const completion = await withApiPerformanceMonitoring(() =>\r\n    generateChatCompletion(messages, tier)\r\n  )\r\n\r\n  if (convoId) {\r\n    await supabase\r\n      .from('chat_messages')\r\n      .insert({ \r\n        conversation_id: convoId, \r\n        role: 'assistant', \r\n        content: completion, \r\n        sources: contextResults.map(r => ({ \r\n          file_id: r.fileId, \r\n          file_name: r.fileName, \r\n          chunk_index: r.chunkIndex, \r\n          relevance_score: r.relevanceScore \r\n        })) \r\n      })\r\n  }\r\n\r\n  return ApiResponse.success({\r\n    conversation_id: convoId,\r\n    response: completion,\r\n    sources: contextResults,\r\n  })\r\n}\r\n\r\nexport const POST = withPerformanceMonitoring(\r\n  createProtectedApiHandler(chatHandler, {\r\n    rateLimit: rateLimitConfigs.chat,\r\n    logging: { enabled: true, includeBody: true },\r\n  })\r\n)\r\n\r\n\r\n\r\n"],
      names: ["POST", "chatSchema", "z", "object", "message", "string", "min", "max", "conversationId", "uuid", "optional", "stream", "boolean", "default", "chatHandler", "request", "context", "user", "ApiResponse", "unauthorized", "body", "json", "catch", "parsed", "safeParse", "success", "badRequest", "data", "supabase", "supabaseAdmin", "convoId", "from", "insert", "user_id", "id", "title", "slice", "select", "single", "conversation_id", "role", "content", "searchDocuments", "contextResults", "withApiPerformanceMonitoring", "limit", "threshold", "contextText", "map", "r", "i", "fileName", "chunkIndex", "similarity", "toFixed", "join", "systemPrompt", "messages", "tier", "subscription_tier", "streamResp", "streamChatCompletion", "encoder", "TextEncoder", "readable", "ReadableStream", "start", "controller", "chunk", "enqueue", "encode", "String", "close", "NextResponse", "headers", "completion", "generateChatCompletion", "sources", "file_id", "fileId", "file_name", "chunk_index", "relevance_score", "relevanceScore", "response", "withPerformanceMonitoring", "createProtectedApiHandler", "rateLimit", "rateLimitConfigs", "chat", "logging", "enabled", "includeBody"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ea63530235d83d23b0ad8bf0c85f3599be8d7181"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_17u0ppyqud = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_17u0ppyqud();
cov_17u0ppyqud().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
/* istanbul ignore next */
cov_17u0ppyqud().s[1]++;
Object.defineProperty(exports, "POST", {
  enumerable: true,
  get: function () {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[0]++;
    cov_17u0ppyqud().s[2]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_17u0ppyqud().s[3]++, require("next/server"));
const _apimiddleware =
/* istanbul ignore next */
(cov_17u0ppyqud().s[4]++, require("../../lib/api-middleware"));
const _apiutils =
/* istanbul ignore next */
(cov_17u0ppyqud().s[5]++, require("../../lib/api-utils"));
const _ratelimit =
/* istanbul ignore next */
(cov_17u0ppyqud().s[6]++, require("../../lib/rate-limit"));
const _zod =
/* istanbul ignore next */
(cov_17u0ppyqud().s[7]++, require("zod"));
const _openai =
/* istanbul ignore next */
(cov_17u0ppyqud().s[8]++, require("../../lib/openai"));
const _supabase =
/* istanbul ignore next */
(cov_17u0ppyqud().s[9]++, require("../../lib/supabase"));
const _performance =
/* istanbul ignore next */
(cov_17u0ppyqud().s[10]++, require("../../lib/performance"));
function _getRequireWildcardCache(nodeInterop) {
  /* istanbul ignore next */
  cov_17u0ppyqud().f[1]++;
  cov_17u0ppyqud().s[11]++;
  if (typeof WeakMap !== "function") {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[0][0]++;
    cov_17u0ppyqud().s[12]++;
    return null;
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[0][1]++;
  }
  var cacheBabelInterop =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[13]++, new WeakMap());
  var cacheNodeInterop =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[14]++, new WeakMap());
  /* istanbul ignore next */
  cov_17u0ppyqud().s[15]++;
  return (_getRequireWildcardCache = function (nodeInterop) {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[2]++;
    cov_17u0ppyqud().s[16]++;
    return nodeInterop ?
    /* istanbul ignore next */
    (cov_17u0ppyqud().b[1][0]++, cacheNodeInterop) :
    /* istanbul ignore next */
    (cov_17u0ppyqud().b[1][1]++, cacheBabelInterop);
  })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
  /* istanbul ignore next */
  cov_17u0ppyqud().f[3]++;
  cov_17u0ppyqud().s[17]++;
  if (
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[3][0]++, !nodeInterop) &&
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[3][1]++, obj) &&
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[3][2]++, obj.__esModule)) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[2][0]++;
    cov_17u0ppyqud().s[18]++;
    return obj;
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[2][1]++;
  }
  cov_17u0ppyqud().s[19]++;
  if (
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[5][0]++, obj === null) ||
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[5][1]++, typeof obj !== "object") &&
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[5][2]++, typeof obj !== "function")) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[4][0]++;
    cov_17u0ppyqud().s[20]++;
    return {
      default: obj
    };
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[4][1]++;
  }
  var cache =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[21]++, _getRequireWildcardCache(nodeInterop));
  /* istanbul ignore next */
  cov_17u0ppyqud().s[22]++;
  if (
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[7][0]++, cache) &&
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[7][1]++, cache.has(obj))) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[6][0]++;
    cov_17u0ppyqud().s[23]++;
    return cache.get(obj);
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[6][1]++;
  }
  var newObj =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[24]++, {
    __proto__: null
  });
  var hasPropertyDescriptor =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[25]++,
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[8][0]++, Object.defineProperty) &&
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[8][1]++, Object.getOwnPropertyDescriptor));
  /* istanbul ignore next */
  cov_17u0ppyqud().s[26]++;
  for (var key in obj) {
    /* istanbul ignore next */
    cov_17u0ppyqud().s[27]++;
    if (
    /* istanbul ignore next */
    (cov_17u0ppyqud().b[10][0]++, key !== "default") &&
    /* istanbul ignore next */
    (cov_17u0ppyqud().b[10][1]++, Object.prototype.hasOwnProperty.call(obj, key))) {
      /* istanbul ignore next */
      cov_17u0ppyqud().b[9][0]++;
      var desc =
      /* istanbul ignore next */
      (cov_17u0ppyqud().s[28]++, hasPropertyDescriptor ?
      /* istanbul ignore next */
      (cov_17u0ppyqud().b[11][0]++, Object.getOwnPropertyDescriptor(obj, key)) :
      /* istanbul ignore next */
      (cov_17u0ppyqud().b[11][1]++, null));
      /* istanbul ignore next */
      cov_17u0ppyqud().s[29]++;
      if (
      /* istanbul ignore next */
      (cov_17u0ppyqud().b[13][0]++, desc) && (
      /* istanbul ignore next */
      (cov_17u0ppyqud().b[13][1]++, desc.get) ||
      /* istanbul ignore next */
      (cov_17u0ppyqud().b[13][2]++, desc.set))) {
        /* istanbul ignore next */
        cov_17u0ppyqud().b[12][0]++;
        cov_17u0ppyqud().s[30]++;
        Object.defineProperty(newObj, key, desc);
      } else {
        /* istanbul ignore next */
        cov_17u0ppyqud().b[12][1]++;
        cov_17u0ppyqud().s[31]++;
        newObj[key] = obj[key];
      }
    } else
    /* istanbul ignore next */
    {
      cov_17u0ppyqud().b[9][1]++;
    }
  }
  /* istanbul ignore next */
  cov_17u0ppyqud().s[32]++;
  newObj.default = obj;
  /* istanbul ignore next */
  cov_17u0ppyqud().s[33]++;
  if (cache) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[14][0]++;
    cov_17u0ppyqud().s[34]++;
    cache.set(obj, newObj);
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[14][1]++;
  }
  cov_17u0ppyqud().s[35]++;
  return newObj;
}
const chatSchema =
/* istanbul ignore next */
(cov_17u0ppyqud().s[36]++, _zod.z.object({
  message: _zod.z.string().min(1).max(2000),
  conversationId: _zod.z.string().uuid().optional(),
  stream: _zod.z.boolean().optional().default(true)
}));
async function chatHandler(request, context) {
  /* istanbul ignore next */
  cov_17u0ppyqud().f[4]++;
  const {
    user
  } =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[37]++, context);
  /* istanbul ignore next */
  cov_17u0ppyqud().s[38]++;
  if (!user) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[15][0]++;
    cov_17u0ppyqud().s[39]++;
    return _apiutils.ApiResponse.unauthorized('User not authenticated');
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[15][1]++;
  }
  const body =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[40]++, await request.json().catch(() => {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[5]++;
    cov_17u0ppyqud().s[41]++;
    return {};
  }));
  const parsed =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[42]++, chatSchema.safeParse(body));
  /* istanbul ignore next */
  cov_17u0ppyqud().s[43]++;
  if (!parsed.success) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[16][0]++;
    cov_17u0ppyqud().s[44]++;
    return _apiutils.ApiResponse.badRequest('Invalid request data');
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[16][1]++;
  }
  const {
    message,
    conversationId,
    stream
  } =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[45]++, parsed.data);
  const supabase =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[46]++, _supabase.supabaseAdmin);
  // Prepare conversation
  let convoId =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[47]++, conversationId);
  /* istanbul ignore next */
  cov_17u0ppyqud().s[48]++;
  if (!convoId) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[17][0]++;
    const {
      data
    } =
    /* istanbul ignore next */
    (cov_17u0ppyqud().s[49]++, await supabase.from('conversations').insert({
      user_id: user.id,
      title: message.slice(0, 80)
    }).select('id').single());
    /* istanbul ignore next */
    cov_17u0ppyqud().s[50]++;
    convoId = data?.id;
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[17][1]++;
  }
  // Save user message
  cov_17u0ppyqud().s[51]++;
  if (convoId) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[18][0]++;
    cov_17u0ppyqud().s[52]++;
    await supabase.from('chat_messages').insert({
      conversation_id: convoId,
      role: 'user',
      content: message
    });
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[18][1]++;
  }
  // Retrieve context via new vector search with performance monitoring
  const {
    searchDocuments
  } =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[53]++, await Promise.resolve().then(() => {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[6]++;
    cov_17u0ppyqud().s[54]++;
    return /*#__PURE__*/_interop_require_wildcard(require("../../lib/vector/document-processor"));
  }));
  const contextResults =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[55]++, await (0, _performance.withApiPerformanceMonitoring)(() => {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[7]++;
    cov_17u0ppyqud().s[56]++;
    return searchDocuments(user.id, message, {
      limit: 5,
      threshold: 0.7
    });
  }));
  const contextText =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[57]++, contextResults.map((r, i) => {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[8]++;
    cov_17u0ppyqud().s[58]++;
    return `Source ${i + 1} [${r.fileName} #${r.chunkIndex} | score=${r.similarity.toFixed(2)}]\n${r.content}`;
  }).join('\n\n'));
  const systemPrompt =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[59]++, `You are Briefly, an AI assistant. Use the provided document context when relevant.\n\nContext:\n${
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[19][0]++, contextText) ||
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[19][1]++, 'No relevant context found.')}\n\nIf the context is insufficient, say so explicitly. Cite filenames when referencing sources.`);
  const messages =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[60]++, [{
    role: 'system',
    content: systemPrompt
  }, {
    role: 'user',
    content: message
  }]);
  const tier =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[61]++,
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[20][0]++, user.subscription_tier) ||
  /* istanbul ignore next */
  (cov_17u0ppyqud().b[20][1]++, 'free'));
  /* istanbul ignore next */
  cov_17u0ppyqud().s[62]++;
  if (stream) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[21][0]++;
    const streamResp =
    /* istanbul ignore next */
    (cov_17u0ppyqud().s[63]++, await (0, _performance.withApiPerformanceMonitoring)(() => {
      /* istanbul ignore next */
      cov_17u0ppyqud().f[9]++;
      cov_17u0ppyqud().s[64]++;
      return (0, _openai.streamChatCompletion)(messages, tier);
    }));
    // Pipe through a basic text stream response
    const encoder =
    /* istanbul ignore next */
    (cov_17u0ppyqud().s[65]++, new TextEncoder());
    const readable =
    /* istanbul ignore next */
    (cov_17u0ppyqud().s[66]++, new ReadableStream({
      async start(controller) {
        /* istanbul ignore next */
        cov_17u0ppyqud().f[10]++;
        cov_17u0ppyqud().s[67]++;
        for await (const chunk of streamResp) {
          /* istanbul ignore next */
          cov_17u0ppyqud().s[68]++;
          controller.enqueue(encoder.encode(typeof chunk === 'string' ?
          /* istanbul ignore next */
          (cov_17u0ppyqud().b[22][0]++, chunk) :
          /* istanbul ignore next */
          (cov_17u0ppyqud().b[22][1]++, String(chunk))));
        }
        /* istanbul ignore next */
        cov_17u0ppyqud().s[69]++;
        controller.close();
      }
    }));
    /* istanbul ignore next */
    cov_17u0ppyqud().s[70]++;
    return new _server.NextResponse(readable, {
      headers: {
        'Content-Type': 'text/plain; charset=utf-8',
        'Cache-Control': 'no-cache'
      }
    });
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[21][1]++;
  }
  const completion =
  /* istanbul ignore next */
  (cov_17u0ppyqud().s[71]++, await (0, _performance.withApiPerformanceMonitoring)(() => {
    /* istanbul ignore next */
    cov_17u0ppyqud().f[11]++;
    cov_17u0ppyqud().s[72]++;
    return (0, _openai.generateChatCompletion)(messages, tier);
  }));
  /* istanbul ignore next */
  cov_17u0ppyqud().s[73]++;
  if (convoId) {
    /* istanbul ignore next */
    cov_17u0ppyqud().b[23][0]++;
    cov_17u0ppyqud().s[74]++;
    await supabase.from('chat_messages').insert({
      conversation_id: convoId,
      role: 'assistant',
      content: completion,
      sources: contextResults.map(r => {
        /* istanbul ignore next */
        cov_17u0ppyqud().f[12]++;
        cov_17u0ppyqud().s[75]++;
        return {
          file_id: r.fileId,
          file_name: r.fileName,
          chunk_index: r.chunkIndex,
          relevance_score: r.relevanceScore
        };
      })
    });
  } else
  /* istanbul ignore next */
  {
    cov_17u0ppyqud().b[23][1]++;
  }
  cov_17u0ppyqud().s[76]++;
  return _apiutils.ApiResponse.success({
    conversation_id: convoId,
    response: completion,
    sources: contextResults
  });
}
const POST =
/* istanbul ignore next */
(cov_17u0ppyqud().s[77]++, (0, _performance.withPerformanceMonitoring)((0, _apimiddleware.createProtectedApiHandler)(chatHandler, {
  rateLimit: _ratelimit.rateLimitConfigs.chat,
  logging: {
    enabled: true,
    includeBody: true
  }
})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJQT1NUIiwiY2hhdFNjaGVtYSIsImNvdl8xN3UwcHB5cXVkIiwicyIsIl96b2QiLCJ6Iiwib2JqZWN0IiwibWVzc2FnZSIsInN0cmluZyIsIm1pbiIsIm1heCIsImNvbnZlcnNhdGlvbklkIiwidXVpZCIsIm9wdGlvbmFsIiwic3RyZWFtIiwiYm9vbGVhbiIsImRlZmF1bHQiLCJjaGF0SGFuZGxlciIsInJlcXVlc3QiLCJjb250ZXh0IiwiZiIsInVzZXIiLCJiIiwiX2FwaXV0aWxzIiwiQXBpUmVzcG9uc2UiLCJ1bmF1dGhvcml6ZWQiLCJib2R5IiwianNvbiIsImNhdGNoIiwicGFyc2VkIiwic2FmZVBhcnNlIiwic3VjY2VzcyIsImJhZFJlcXVlc3QiLCJkYXRhIiwic3VwYWJhc2UiLCJfc3VwYWJhc2UiLCJzdXBhYmFzZUFkbWluIiwiY29udm9JZCIsImZyb20iLCJpbnNlcnQiLCJ1c2VyX2lkIiwiaWQiLCJ0aXRsZSIsInNsaWNlIiwic2VsZWN0Iiwic2luZ2xlIiwiY29udmVyc2F0aW9uX2lkIiwicm9sZSIsImNvbnRlbnQiLCJzZWFyY2hEb2N1bWVudHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInRoZW4iLCJfaW50ZXJvcF9yZXF1aXJlX3dpbGRjYXJkIiwicmVxdWlyZSIsImNvbnRleHRSZXN1bHRzIiwiX3BlcmZvcm1hbmNlIiwid2l0aEFwaVBlcmZvcm1hbmNlTW9uaXRvcmluZyIsImxpbWl0IiwidGhyZXNob2xkIiwiY29udGV4dFRleHQiLCJtYXAiLCJyIiwiaSIsImZpbGVOYW1lIiwiY2h1bmtJbmRleCIsInNpbWlsYXJpdHkiLCJ0b0ZpeGVkIiwiam9pbiIsInN5c3RlbVByb21wdCIsIm1lc3NhZ2VzIiwidGllciIsInN1YnNjcmlwdGlvbl90aWVyIiwic3RyZWFtUmVzcCIsIl9vcGVuYWkiLCJzdHJlYW1DaGF0Q29tcGxldGlvbiIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsInJlYWRhYmxlIiwiUmVhZGFibGVTdHJlYW0iLCJzdGFydCIsImNvbnRyb2xsZXIiLCJjaHVuayIsImVucXVldWUiLCJlbmNvZGUiLCJTdHJpbmciLCJjbG9zZSIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJoZWFkZXJzIiwiY29tcGxldGlvbiIsImdlbmVyYXRlQ2hhdENvbXBsZXRpb24iLCJzb3VyY2VzIiwiZmlsZV9pZCIsImZpbGVJZCIsImZpbGVfbmFtZSIsImNodW5rX2luZGV4IiwicmVsZXZhbmNlX3Njb3JlIiwicmVsZXZhbmNlU2NvcmUiLCJyZXNwb25zZSIsIndpdGhQZXJmb3JtYW5jZU1vbml0b3JpbmciLCJfYXBpbWlkZGxld2FyZSIsImNyZWF0ZVByb3RlY3RlZEFwaUhhbmRsZXIiLCJyYXRlTGltaXQiLCJfcmF0ZWxpbWl0IiwicmF0ZUxpbWl0Q29uZmlncyIsImNoYXQiLCJsb2dnaW5nIiwiZW5hYmxlZCIsImluY2x1ZGVCb2R5Il0sInNvdXJjZXMiOlsiUjpcXEFwcHNcXEJyaWVmbHlfQ2xvdWRcXGJyaWVmbHktY2xvdWQtbmV4dGpzXFxzcmNcXGFwcFxcYXBpXFxjaGF0XFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgY3JlYXRlUHJvdGVjdGVkQXBpSGFuZGxlciwgQXBpQ29udGV4dCB9IGZyb20gJ0AvYXBwL2xpYi9hcGktbWlkZGxld2FyZSdcclxuaW1wb3J0IHsgQXBpUmVzcG9uc2UgfSBmcm9tICdAL2FwcC9saWIvYXBpLXV0aWxzJ1xyXG5pbXBvcnQgeyByYXRlTGltaXRDb25maWdzIH0gZnJvbSAnQC9hcHAvbGliL3JhdGUtbGltaXQnXHJcbmltcG9ydCB7IHogfSBmcm9tICd6b2QnXHJcbmltcG9ydCB7IHNlYXJjaERvY3VtZW50Q29udGV4dCB9IGZyb20gJ0AvYXBwL2xpYi92ZWN0b3Itc3RvcmFnZSdcclxuaW1wb3J0IHsgZ2VuZXJhdGVDaGF0Q29tcGxldGlvbiwgc3RyZWFtQ2hhdENvbXBsZXRpb24sIFN1YnNjcmlwdGlvblRpZXIgfSBmcm9tICdAL2FwcC9saWIvb3BlbmFpJ1xyXG5pbXBvcnQgeyBzdXBhYmFzZUFkbWluIH0gZnJvbSAnQC9hcHAvbGliL3N1cGFiYXNlJ1xyXG5pbXBvcnQgeyBjYWNoZU1hbmFnZXIsIENBQ0hFX0tFWVMgfSBmcm9tICdAL2FwcC9saWIvY2FjaGUnXHJcbmltcG9ydCB7IHdpdGhQZXJmb3JtYW5jZU1vbml0b3JpbmcsIHdpdGhBcGlQZXJmb3JtYW5jZU1vbml0b3JpbmcgfSBmcm9tICdAL2FwcC9saWIvcGVyZm9ybWFuY2UnXHJcblxyXG5jb25zdCBjaGF0U2NoZW1hID0gei5vYmplY3Qoe1xyXG4gIG1lc3NhZ2U6IHouc3RyaW5nKCkubWluKDEpLm1heCgyMDAwKSxcclxuICBjb252ZXJzYXRpb25JZDogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSxcclxuICBzdHJlYW06IHouYm9vbGVhbigpLm9wdGlvbmFsKCkuZGVmYXVsdCh0cnVlKSxcclxufSlcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNoYXRIYW5kbGVyKHJlcXVlc3Q6IFJlcXVlc3QsIGNvbnRleHQ6IEFwaUNvbnRleHQpOiBQcm9taXNlPE5leHRSZXNwb25zZT4ge1xyXG4gIGNvbnN0IHsgdXNlciB9ID0gY29udGV4dFxyXG4gIGlmICghdXNlcikgcmV0dXJuIEFwaVJlc3BvbnNlLnVuYXV0aG9yaXplZCgnVXNlciBub3QgYXV0aGVudGljYXRlZCcpXHJcblxyXG4gIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKS5jYXRjaCgoKSA9PiAoe30pKVxyXG4gIGNvbnN0IHBhcnNlZCA9IGNoYXRTY2hlbWEuc2FmZVBhcnNlKGJvZHkpXHJcbiAgaWYgKCFwYXJzZWQuc3VjY2VzcykgcmV0dXJuIEFwaVJlc3BvbnNlLmJhZFJlcXVlc3QoJ0ludmFsaWQgcmVxdWVzdCBkYXRhJylcclxuXHJcbiAgY29uc3QgeyBtZXNzYWdlLCBjb252ZXJzYXRpb25JZCwgc3RyZWFtIH0gPSBwYXJzZWQuZGF0YVxyXG5cclxuICBjb25zdCBzdXBhYmFzZSA9IHN1cGFiYXNlQWRtaW5cclxuXHJcbiAgLy8gUHJlcGFyZSBjb252ZXJzYXRpb25cclxuICBsZXQgY29udm9JZCA9IGNvbnZlcnNhdGlvbklkXHJcbiAgaWYgKCFjb252b0lkKSB7XHJcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjb252ZXJzYXRpb25zJylcclxuICAgICAgLmluc2VydCh7IHVzZXJfaWQ6IHVzZXIuaWQsIHRpdGxlOiBtZXNzYWdlLnNsaWNlKDAsIDgwKSB9KVxyXG4gICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgY29udm9JZCA9IGRhdGE/LmlkXHJcbiAgfVxyXG5cclxuICAvLyBTYXZlIHVzZXIgbWVzc2FnZVxyXG4gIGlmIChjb252b0lkKSB7XHJcbiAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2hhdF9tZXNzYWdlcycpXHJcbiAgICAgIC5pbnNlcnQoeyBjb252ZXJzYXRpb25faWQ6IGNvbnZvSWQsIHJvbGU6ICd1c2VyJywgY29udGVudDogbWVzc2FnZSB9KVxyXG4gIH1cclxuXHJcbiAgLy8gUmV0cmlldmUgY29udGV4dCB2aWEgbmV3IHZlY3RvciBzZWFyY2ggd2l0aCBwZXJmb3JtYW5jZSBtb25pdG9yaW5nXHJcbiAgY29uc3QgeyBzZWFyY2hEb2N1bWVudHMgfSA9IGF3YWl0IGltcG9ydCgnQC9hcHAvbGliL3ZlY3Rvci9kb2N1bWVudC1wcm9jZXNzb3InKVxyXG4gIGNvbnN0IGNvbnRleHRSZXN1bHRzID0gYXdhaXQgd2l0aEFwaVBlcmZvcm1hbmNlTW9uaXRvcmluZygoKSA9PlxyXG4gICAgc2VhcmNoRG9jdW1lbnRzKHVzZXIuaWQsIG1lc3NhZ2UsIHtcclxuICAgICAgbGltaXQ6IDUsXHJcbiAgICAgIHRocmVzaG9sZDogMC43LFxyXG4gICAgfSlcclxuICApXHJcblxyXG4gIGNvbnN0IGNvbnRleHRUZXh0ID0gY29udGV4dFJlc3VsdHNcclxuICAgIC5tYXAoKHIsIGkpID0+IGBTb3VyY2UgJHtpICsgMX0gWyR7ci5maWxlTmFtZX0gIyR7ci5jaHVua0luZGV4fSB8IHNjb3JlPSR7ci5zaW1pbGFyaXR5LnRvRml4ZWQoMil9XVxcbiR7ci5jb250ZW50fWApXHJcbiAgICAuam9pbignXFxuXFxuJylcclxuXHJcbiAgY29uc3Qgc3lzdGVtUHJvbXB0ID0gYFlvdSBhcmUgQnJpZWZseSwgYW4gQUkgYXNzaXN0YW50LiBVc2UgdGhlIHByb3ZpZGVkIGRvY3VtZW50IGNvbnRleHQgd2hlbiByZWxldmFudC5cXG5cXG5Db250ZXh0OlxcbiR7Y29udGV4dFRleHQgfHwgJ05vIHJlbGV2YW50IGNvbnRleHQgZm91bmQuJ31cXG5cXG5JZiB0aGUgY29udGV4dCBpcyBpbnN1ZmZpY2llbnQsIHNheSBzbyBleHBsaWNpdGx5LiBDaXRlIGZpbGVuYW1lcyB3aGVuIHJlZmVyZW5jaW5nIHNvdXJjZXMuYFxyXG5cclxuICBjb25zdCBtZXNzYWdlcyA9IFtcclxuICAgIHsgcm9sZTogJ3N5c3RlbScsIGNvbnRlbnQ6IHN5c3RlbVByb21wdCB9LFxyXG4gICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IG1lc3NhZ2UgfSxcclxuICBdIGFzIGFueVxyXG5cclxuICBjb25zdCB0aWVyID0gKHVzZXIuc3Vic2NyaXB0aW9uX3RpZXIgfHwgJ2ZyZWUnKSBhcyBTdWJzY3JpcHRpb25UaWVyXHJcblxyXG4gIGlmIChzdHJlYW0pIHtcclxuICAgIGNvbnN0IHN0cmVhbVJlc3AgPSBhd2FpdCB3aXRoQXBpUGVyZm9ybWFuY2VNb25pdG9yaW5nKCgpID0+XHJcbiAgICAgIHN0cmVhbUNoYXRDb21wbGV0aW9uKG1lc3NhZ2VzLCB0aWVyKVxyXG4gICAgKVxyXG4gICAgXHJcbiAgICAvLyBQaXBlIHRocm91Z2ggYSBiYXNpYyB0ZXh0IHN0cmVhbSByZXNwb25zZVxyXG4gICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpXHJcbiAgICBjb25zdCByZWFkYWJsZSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XHJcbiAgICAgIGFzeW5jIHN0YXJ0KGNvbnRyb2xsZXIpIHtcclxuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbVJlc3ApIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShlbmNvZGVyLmVuY29kZSh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gY2h1bmsgOiBTdHJpbmcoY2h1bmspKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBuZXcgTmV4dFJlc3BvbnNlKHJlYWRhYmxlLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvcGxhaW47IGNoYXJzZXQ9dXRmLTgnLFxyXG4gICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcclxuICAgICAgfSxcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgd2l0aEFwaVBlcmZvcm1hbmNlTW9uaXRvcmluZygoKSA9PlxyXG4gICAgZ2VuZXJhdGVDaGF0Q29tcGxldGlvbihtZXNzYWdlcywgdGllcilcclxuICApXHJcblxyXG4gIGlmIChjb252b0lkKSB7XHJcbiAgICBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2hhdF9tZXNzYWdlcycpXHJcbiAgICAgIC5pbnNlcnQoeyBcclxuICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZvSWQsIFxyXG4gICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLCBcclxuICAgICAgICBjb250ZW50OiBjb21wbGV0aW9uLCBcclxuICAgICAgICBzb3VyY2VzOiBjb250ZXh0UmVzdWx0cy5tYXAociA9PiAoeyBcclxuICAgICAgICAgIGZpbGVfaWQ6IHIuZmlsZUlkLCBcclxuICAgICAgICAgIGZpbGVfbmFtZTogci5maWxlTmFtZSwgXHJcbiAgICAgICAgICBjaHVua19pbmRleDogci5jaHVua0luZGV4LCBcclxuICAgICAgICAgIHJlbGV2YW5jZV9zY29yZTogci5yZWxldmFuY2VTY29yZSBcclxuICAgICAgICB9KSkgXHJcbiAgICAgIH0pXHJcbiAgfVxyXG5cclxuICByZXR1cm4gQXBpUmVzcG9uc2Uuc3VjY2Vzcyh7XHJcbiAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZvSWQsXHJcbiAgICByZXNwb25zZTogY29tcGxldGlvbixcclxuICAgIHNvdXJjZXM6IGNvbnRleHRSZXN1bHRzLFxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBQT1NUID0gd2l0aFBlcmZvcm1hbmNlTW9uaXRvcmluZyhcclxuICBjcmVhdGVQcm90ZWN0ZWRBcGlIYW5kbGVyKGNoYXRIYW5kbGVyLCB7XHJcbiAgICByYXRlTGltaXQ6IHJhdGVMaW1pdENvbmZpZ3MuY2hhdCxcclxuICAgIGxvZ2dpbmc6IHsgZW5hYmxlZDogdHJ1ZSwgaW5jbHVkZUJvZHk6IHRydWUgfSxcclxuICB9KVxyXG4pXHJcblxyXG5cclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7K0JBd0hhOzs7Ozs7V0FBQUEsSUFBQTs7Ozs7a0NBeEhnQjs7O2tDQUN5Qjs7O2tDQUMxQjs7O2tDQUNLOzs7a0NBQ2Y7OztrQ0FFNkQ7OztrQ0FDakQ7OzttQ0FFMEM7Ozs7Ozs7Ozs7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