{"version":3,"sources":["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\tests\\security\\setup.ts"],"sourcesContent":["/**\r\n * Security Test Setup\r\n * \r\n * Sets up the test environment for security tests with proper mocks and configurations.\r\n */\r\n\r\n// Set test environment\r\nprocess.env.NODE_ENV = 'test'\r\nprocess.env.SECURITY_TEST_MODE = 'true'\r\n\r\n// Mock environment variables\r\nprocess.env.SUPABASE_URL = 'https://test.supabase.co'\r\nprocess.env.SUPABASE_ANON_KEY = 'test-anon-key'\r\nprocess.env.SUPABASE_SERVICE_ROLE_KEY = 'test-service-key'\r\nprocess.env.ENCRYPTION_KEY = 'test-encryption-key-32-characters'\r\nprocess.env.JWT_SECRET = 'test-jwt-secret-key'\r\n\r\n// Setup security test environment\r\nexport function setupSecurityMocks() {\r\n  // Mock console methods to reduce noise in tests\r\n  global.console = {\r\n    ...console,\r\n    log: jest.fn(),\r\n    warn: jest.fn(),\r\n    error: jest.fn(),\r\n    info: jest.fn(),\r\n    debug: jest.fn(),\r\n  }\r\n}\r\n\r\n// Global setup\r\nbeforeAll(() => {\r\n  setupSecurityMocks()\r\n})\r\n\r\n// Cleanup after each test\r\nafterEach(() => {\r\n  jest.clearAllMocks()\r\n})\r\n\r\n// Global cleanup\r\nafterAll(() => {\r\n  console.log('Cleaning up security test resources...')\r\n})"],"names":["setupSecurityMocks","process","env","NODE_ENV","SECURITY_TEST_MODE","SUPABASE_URL","SUPABASE_ANON_KEY","SUPABASE_SERVICE_ROLE_KEY","ENCRYPTION_KEY","JWT_SECRET","global","console","log","jest","fn","warn","error","info","debug","beforeAll","afterEach","clearAllMocks","afterAll"],"mappings":"AAAA;;;;CAIC,GAED,uBAAuB;;;;;+BAYPA;;;eAAAA;;;AAXhBC,QAAQC,GAAG,CAACC,QAAQ,GAAG;AACvBF,QAAQC,GAAG,CAACE,kBAAkB,GAAG;AAEjC,6BAA6B;AAC7BH,QAAQC,GAAG,CAACG,YAAY,GAAG;AAC3BJ,QAAQC,GAAG,CAACI,iBAAiB,GAAG;AAChCL,QAAQC,GAAG,CAACK,yBAAyB,GAAG;AACxCN,QAAQC,GAAG,CAACM,cAAc,GAAG;AAC7BP,QAAQC,GAAG,CAACO,UAAU,GAAG;AAGlB,SAAST;IACd,gDAAgD;IAChDU,OAAOC,OAAO,GAAG;QACf,GAAGA,OAAO;QACVC,KAAKC,KAAKC,EAAE;QACZC,MAAMF,KAAKC,EAAE;QACbE,OAAOH,KAAKC,EAAE;QACdG,MAAMJ,KAAKC,EAAE;QACbI,OAAOL,KAAKC,EAAE;IAChB;AACF;AAEA,eAAe;AACfK,UAAU;IACRnB;AACF;AAEA,0BAA0B;AAC1BoB,UAAU;IACRP,KAAKQ,aAAa;AACpB;AAEA,iBAAiB;AACjBC,SAAS;IACPX,QAAQC,GAAG,CAAC;AACd"}