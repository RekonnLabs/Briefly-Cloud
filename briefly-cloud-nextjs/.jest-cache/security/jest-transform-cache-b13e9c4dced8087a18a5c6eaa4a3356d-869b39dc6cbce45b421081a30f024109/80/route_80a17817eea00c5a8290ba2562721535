61872d0f160b7a29eb66d9f8a2057b65
/**
 * Secure File Download API Route
 * 
 * This endpoint provides secure file downloads with proper access controls,
 * audit logging, and signed URL generation.
 */"use strict";

/* istanbul ignore next */
function cov_fl1mimhbb() {
  var path = "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\files\\[fileId]\\download\\route.ts";
  var hash = "62df0afed3b3c1b54842ef2eb516e413b6cb9362";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\files\\[fileId]\\download\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 7,
          column: 0
        },
        end: {
          line: 9,
          column: 3
        }
      },
      "1": {
        start: {
          line: 11,
          column: 4
        },
        end: {
          line: 14,
          column: 7
        }
      },
      "2": {
        start: {
          line: 11,
          column: 24
        },
        end: {
          line: 14,
          column: 7
        }
      },
      "3": {
        start: {
          line: 16,
          column: 0
        },
        end: {
          line: 23,
          column: 3
        }
      },
      "4": {
        start: {
          line: 18,
          column: 8
        },
        end: {
          line: 18,
          column: 22
        }
      },
      "5": {
        start: {
          line: 21,
          column: 8
        },
        end: {
          line: 21,
          column: 19
        }
      },
      "6": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 38
        }
      },
      "7": {
        start: {
          line: 25,
          column: 24
        },
        end: {
          line: 25,
          column: 71
        }
      },
      "8": {
        start: {
          line: 26,
          column: 25
        },
        end: {
          line: 26,
          column: 74
        }
      },
      "9": {
        start: {
          line: 27,
          column: 23
        },
        end: {
          line: 27,
          column: 72
        }
      },
      "10": {
        start: {
          line: 28,
          column: 16
        },
        end: {
          line: 28,
          column: 49
        }
      },
      "11": {
        start: {
          line: 29,
          column: 12
        },
        end: {
          line: 91,
          column: 3
        }
      },
      "12": {
        start: {
          line: 30,
          column: 4
        },
        end: {
          line: 90,
          column: 5
        }
      },
      "13": {
        start: {
          line: 31,
          column: 25
        },
        end: {
          line: 31,
          column: 32
        }
      },
      "14": {
        start: {
          line: 32,
          column: 27
        },
        end: {
          line: 32,
          column: 33
        }
      },
      "15": {
        start: {
          line: 33,
          column: 33
        },
        end: {
          line: 33,
          column: 53
        }
      },
      "16": {
        start: {
          line: 34,
          column: 26
        },
        end: {
          line: 35,
          column: 9
        }
      },
      "17": {
        start: {
          line: 36,
          column: 23
        },
        end: {
          line: 36,
          column: 60
        }
      },
      "18": {
        start: {
          line: 37,
          column: 8
        },
        end: {
          line: 45,
          column: 9
        }
      },
      "19": {
        start: {
          line: 38,
          column: 12
        },
        end: {
          line: 44,
          column: 15
        }
      },
      "20": {
        start: {
          line: 46,
          column: 30
        },
        end: {
          line: 46,
          column: 68
        }
      },
      "21": {
        start: {
          line: 47,
          column: 23
        },
        end: {
          line: 47,
          column: 184
        }
      },
      "22": {
        start: {
          line: 48,
          column: 8
        },
        end: {
          line: 57,
          column: 9
        }
      },
      "23": {
        start: {
          line: 49,
          column: 31
        },
        end: {
          line: 49,
          column: 117
        }
      },
      "24": {
        start: {
          line: 50,
          column: 12
        },
        end: {
          line: 56,
          column: 15
        }
      },
      "25": {
        start: {
          line: 59,
          column: 49
        },
        end: {
          line: 59,
          column: 152
        }
      },
      "26": {
        start: {
          line: 60,
          column: 29
        },
        end: {
          line: 71,
          column: 9
        }
      },
      "27": {
        start: {
          line: 73,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "28": {
        start: {
          line: 74,
          column: 12
        },
        end: {
          line: 74,
          column: 61
        }
      },
      "29": {
        start: {
          line: 76,
          column: 8
        },
        end: {
          line: 76,
          column: 55
        }
      },
      "30": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 82,
          column: 11
        }
      },
      "31": {
        start: {
          line: 83,
          column: 8
        },
        end: {
          line: 89,
          column: 11
        }
      },
      "32": {
        start: {
          line: 92,
          column: 15
        },
        end: {
          line: 139,
          column: 3
        }
      },
      "33": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 138,
          column: 5
        }
      },
      "34": {
        start: {
          line: 94,
          column: 25
        },
        end: {
          line: 94,
          column: 32
        }
      },
      "35": {
        start: {
          line: 95,
          column: 27
        },
        end: {
          line: 95,
          column: 33
        }
      },
      "36": {
        start: {
          line: 96,
          column: 8
        },
        end: {
          line: 104,
          column: 9
        }
      },
      "37": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 103,
          column: 15
        }
      },
      "38": {
        start: {
          line: 105,
          column: 30
        },
        end: {
          line: 105,
          column: 68
        }
      },
      "39": {
        start: {
          line: 106,
          column: 23
        },
        end: {
          line: 106,
          column: 171
        }
      },
      "40": {
        start: {
          line: 107,
          column: 8
        },
        end: {
          line: 116,
          column: 9
        }
      },
      "41": {
        start: {
          line: 108,
          column: 31
        },
        end: {
          line: 108,
          column: 117
        }
      },
      "42": {
        start: {
          line: 109,
          column: 12
        },
        end: {
          line: 115,
          column: 15
        }
      },
      "43": {
        start: {
          line: 117,
          column: 8
        },
        end: {
          line: 124,
          column: 11
        }
      },
      "44": {
        start: {
          line: 126,
          column: 8
        },
        end: {
          line: 130,
          column: 11
        }
      },
      "45": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 137,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 10,
            column: 9
          },
          end: {
            line: 10,
            column: 16
          }
        },
        loc: {
          start: {
            line: 10,
            column: 30
          },
          end: {
            line: 15,
            column: 1
          }
        },
        line: 10
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 17,
            column: 4
          },
          end: {
            line: 17,
            column: 5
          }
        },
        loc: {
          start: {
            line: 17,
            column: 18
          },
          end: {
            line: 19,
            column: 5
          }
        },
        line: 17
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 20,
            column: 4
          },
          end: {
            line: 20,
            column: 5
          }
        },
        loc: {
          start: {
            line: 20,
            column: 15
          },
          end: {
            line: 22,
            column: 5
          }
        },
        line: 20
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 29,
            column: 80
          },
          end: {
            line: 29,
            column: 81
          }
        },
        loc: {
          start: {
            line: 29,
            column: 118
          },
          end: {
            line: 91,
            column: 1
          }
        },
        line: 29
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 92,
            column: 83
          },
          end: {
            line: 92,
            column: 84
          }
        },
        loc: {
          start: {
            line: 92,
            column: 121
          },
          end: {
            line: 139,
            column: 1
          }
        },
        line: 92
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 34,
            column: 44
          },
          end: {
            line: 34,
            column: 83
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 34,
            column: 44
          },
          end: {
            line: 34,
            column: 73
          }
        }, {
          start: {
            line: 34,
            column: 77
          },
          end: {
            line: 34,
            column: 83
          }
        }],
        line: 34
      },
      "1": {
        loc: {
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 37,
            column: 8
          },
          end: {
            line: 45,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 37
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 84
          },
          end: {
            line: 47,
            column: 135
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 47,
            column: 84
          },
          end: {
            line: 47,
            column: 122
          }
        }, {
          start: {
            line: 47,
            column: 126
          },
          end: {
            line: 47,
            column: 135
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 47,
            column: 137
          },
          end: {
            line: 47,
            column: 183
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 47,
            column: 137
          },
          end: {
            line: 47,
            column: 170
          }
        }, {
          start: {
            line: 47,
            column: 174
          },
          end: {
            line: 47,
            column: 183
          }
        }],
        line: 47
      },
      "4": {
        loc: {
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 48,
            column: 8
          },
          end: {
            line: 57,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 48
      },
      "5": {
        loc: {
          start: {
            line: 49,
            column: 31
          },
          end: {
            line: 49,
            column: 117
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 49,
            column: 66
          },
          end: {
            line: 49,
            column: 69
          }
        }, {
          start: {
            line: 49,
            column: 72
          },
          end: {
            line: 49,
            column: 117
          }
        }],
        line: 49
      },
      "6": {
        loc: {
          start: {
            line: 49,
            column: 72
          },
          end: {
            line: 49,
            column: 117
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 49,
            column: 108
          },
          end: {
            line: 49,
            column: 111
          }
        }, {
          start: {
            line: 49,
            column: 114
          },
          end: {
            line: 49,
            column: 117
          }
        }],
        line: 49
      },
      "7": {
        loc: {
          start: {
            line: 53,
            column: 25
          },
          end: {
            line: 53,
            column: 123
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 53,
            column: 60
          },
          end: {
            line: 53,
            column: 108
          }
        }, {
          start: {
            line: 53,
            column: 111
          },
          end: {
            line: 53,
            column: 123
          }
        }],
        line: 53
      },
      "8": {
        loc: {
          start: {
            line: 66,
            column: 26
          },
          end: {
            line: 66,
            column: 50
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 66,
            column: 26
          },
          end: {
            line: 66,
            column: 36
          }
        }, {
          start: {
            line: 66,
            column: 40
          },
          end: {
            line: 66,
            column: 50
          }
        }],
        line: 66
      },
      "9": {
        loc: {
          start: {
            line: 67,
            column: 29
          },
          end: {
            line: 67,
            column: 77
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 67,
            column: 29
          },
          end: {
            line: 67,
            column: 47
          }
        }, {
          start: {
            line: 67,
            column: 51
          },
          end: {
            line: 67,
            column: 77
          }
        }],
        line: 67
      },
      "10": {
        loc: {
          start: {
            line: 68,
            column: 26
          },
          end: {
            line: 68,
            column: 46
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 68,
            column: 26
          },
          end: {
            line: 68,
            column: 41
          }
        }, {
          start: {
            line: 68,
            column: 45
          },
          end: {
            line: 68,
            column: 46
          }
        }],
        line: 68
      },
      "11": {
        loc: {
          start: {
            line: 73,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 73,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 73
      },
      "12": {
        loc: {
          start: {
            line: 73,
            column: 12
          },
          end: {
            line: 73,
            column: 32
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 73,
            column: 12
          },
          end: {
            line: 73,
            column: 18
          }
        }, {
          start: {
            line: 73,
            column: 22
          },
          end: {
            line: 73,
            column: 32
          }
        }],
        line: 73
      },
      "13": {
        loc: {
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 96,
            column: 8
          },
          end: {
            line: 104,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 96
      },
      "14": {
        loc: {
          start: {
            line: 106,
            column: 71
          },
          end: {
            line: 106,
            column: 122
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 106,
            column: 71
          },
          end: {
            line: 106,
            column: 109
          }
        }, {
          start: {
            line: 106,
            column: 113
          },
          end: {
            line: 106,
            column: 122
          }
        }],
        line: 106
      },
      "15": {
        loc: {
          start: {
            line: 106,
            column: 124
          },
          end: {
            line: 106,
            column: 170
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 106,
            column: 124
          },
          end: {
            line: 106,
            column: 157
          }
        }, {
          start: {
            line: 106,
            column: 161
          },
          end: {
            line: 106,
            column: 170
          }
        }],
        line: 106
      },
      "16": {
        loc: {
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 8
          },
          end: {
            line: 116,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 107
      },
      "17": {
        loc: {
          start: {
            line: 108,
            column: 31
          },
          end: {
            line: 108,
            column: 117
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 108,
            column: 66
          },
          end: {
            line: 108,
            column: 69
          }
        }, {
          start: {
            line: 108,
            column: 72
          },
          end: {
            line: 108,
            column: 117
          }
        }],
        line: 108
      },
      "18": {
        loc: {
          start: {
            line: 108,
            column: 72
          },
          end: {
            line: 108,
            column: 117
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 108,
            column: 108
          },
          end: {
            line: 108,
            column: 111
          }
        }, {
          start: {
            line: 108,
            column: 114
          },
          end: {
            line: 108,
            column: 117
          }
        }],
        line: 108
      },
      "19": {
        loc: {
          start: {
            line: 112,
            column: 25
          },
          end: {
            line: 112,
            column: 123
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 112,
            column: 60
          },
          end: {
            line: 112,
            column: 108
          }
        }, {
          start: {
            line: 112,
            column: 111
          },
          end: {
            line: 112,
            column: 123
          }
        }],
        line: 112
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\files\\[fileId]\\download\\route.ts"],
      sourcesContent: ["/**\r\n * Secure File Download API Route\r\n * \r\n * This endpoint provides secure file downloads with proper access controls,\r\n * audit logging, and signed URL generation.\r\n */\r\n\r\nimport { NextRequest, NextResponse } from 'next/server'\r\nimport { withAuth } from '@/app/lib/auth/auth-middleware'\r\nimport { withApiControls } from '@/app/lib/usage/usage-middleware'\r\nimport { getSecureStorage } from '@/app/lib/storage/secure-storage'\r\nimport { getAuditLogger } from '@/app/lib/audit/audit-logger'\r\nimport { logger } from '@/app/lib/logger'\r\n\r\ninterface RouteParams {\r\n  params: {\r\n    fileId: string\r\n  }\r\n}\r\n\r\n/**\r\n * GET /api/files/[fileId]/download\r\n * \r\n * Generate secure download URL for a file\r\n */\r\nexport const GET = withAuth(\r\n  withApiControls(async (request: NextRequest, context, { params }: RouteParams) => {\r\n    try {\r\n      const { user } = context\r\n      const { fileId } = params\r\n      const { searchParams } = new URL(request.url)\r\n      \r\n      const expiresIn = Math.min(\r\n        parseInt(searchParams.get('expiresIn') || '3600'), \r\n        86400 // Max 24 hours\r\n      )\r\n      const inline = searchParams.get('inline') === 'true'\r\n\r\n      if (!fileId) {\r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: 'File ID required',\r\n            message: 'Please provide a valid file ID'\r\n          },\r\n          { status: 400 }\r\n        )\r\n      }\r\n\r\n      const secureStorage = getSecureStorage()\r\n      const result = await secureStorage.getSignedUrl(\r\n        fileId,\r\n        user.id,\r\n        expiresIn,\r\n        request.headers.get('x-forwarded-for') || 'unknown',\r\n        request.headers.get('user-agent') || 'unknown'\r\n      )\r\n\r\n      if (result.error) {\r\n        const statusCode = result.error === 'Access denied' ? 403 : \r\n                          result.error === 'File not found' ? 404 : 500\r\n\r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: result.error,\r\n            message: result.error === 'Access denied' \r\n              ? 'You do not have permission to access this file'\r\n              : result.error\r\n          },\r\n          { status: statusCode }\r\n        )\r\n      }\r\n\r\n      // Get file info for response\r\n      const { data: file, error: fileError } = await supabaseAdmin\r\n        .from('app.files')\r\n        .select('name, content_type, file_size')\r\n        .eq('id', fileId)\r\n        .single()\r\n\r\n      const responseData = {\r\n        success: true,\r\n        data: {\r\n          downloadUrl: result.url,\r\n          expiresIn,\r\n          expiresAt: new Date(Date.now() + expiresIn * 1000).toISOString(),\r\n          fileName: file?.name || 'download',\r\n          contentType: file?.content_type || 'application/octet-stream',\r\n          fileSize: file?.file_size || 0,\r\n          inline\r\n        }\r\n      }\r\n\r\n      // If inline viewing is requested, redirect directly\r\n      if (inline && result.url) {\r\n        return NextResponse.redirect(result.url)\r\n      }\r\n\r\n      return NextResponse.json(responseData)\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to generate download URL', {\r\n        userId: context.user.id,\r\n        fileId: params.fileId,\r\n        error: (error as Error).message\r\n      })\r\n\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'Failed to generate download URL',\r\n          message: 'Please try again later'\r\n        },\r\n        { status: 500 }\r\n      )\r\n    }\r\n  })\r\n)\r\n\r\n/**\r\n * DELETE /api/files/[fileId]/download\r\n * \r\n * Delete a file securely\r\n */\r\nexport const DELETE = withAuth(\r\n  withApiControls(async (request: NextRequest, context, { params }: RouteParams) => {\r\n    try {\r\n      const { user } = context\r\n      const { fileId } = params\r\n\r\n      if (!fileId) {\r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: 'File ID required',\r\n            message: 'Please provide a valid file ID'\r\n          },\r\n          { status: 400 }\r\n        )\r\n      }\r\n\r\n      const secureStorage = getSecureStorage()\r\n      const result = await secureStorage.deleteFile(\r\n        fileId,\r\n        user.id,\r\n        request.headers.get('x-forwarded-for') || 'unknown',\r\n        request.headers.get('user-agent') || 'unknown'\r\n      )\r\n\r\n      if (!result.success) {\r\n        const statusCode = result.error === 'Access denied' ? 403 : \r\n                          result.error === 'File not found' ? 404 : 500\r\n\r\n        return NextResponse.json(\r\n          { \r\n            success: false, \r\n            error: result.error,\r\n            message: result.error === 'Access denied' \r\n              ? 'You do not have permission to delete this file'\r\n              : result.error\r\n          },\r\n          { status: statusCode }\r\n        )\r\n      }\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'File deleted successfully',\r\n        data: {\r\n          fileId,\r\n          deletedAt: new Date().toISOString()\r\n        }\r\n      })\r\n\r\n    } catch (error) {\r\n      logger.error('Failed to delete file', {\r\n        userId: context.user.id,\r\n        fileId: params.fileId,\r\n        error: (error as Error).message\r\n      })\r\n\r\n      return NextResponse.json(\r\n        { \r\n          success: false, \r\n          error: 'Failed to delete file',\r\n          message: 'Please try again later'\r\n        },\r\n        { status: 500 }\r\n      )\r\n    }\r\n  })\r\n)"],
      names: ["DELETE", "GET", "withAuth", "withApiControls", "request", "context", "params", "user", "fileId", "searchParams", "URL", "url", "expiresIn", "Math", "min", "parseInt", "get", "inline", "NextResponse", "json", "success", "error", "message", "status", "secureStorage", "getSecureStorage", "result", "getSignedUrl", "id", "headers", "statusCode", "data", "file", "fileError", "supabaseAdmin", "from", "select", "eq", "single", "responseData", "downloadUrl", "expiresAt", "Date", "now", "toISOString", "fileName", "name", "contentType", "content_type", "fileSize", "file_size", "redirect", "logger", "userId", "deleteFile", "deletedAt"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "62df0afed3b3c1b54842ef2eb516e413b6cb9362"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_fl1mimhbb = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_fl1mimhbb();
cov_fl1mimhbb().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_fl1mimhbb().f[0]++;
  cov_fl1mimhbb().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_fl1mimhbb().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_fl1mimhbb().s[3]++;
_export(exports, {
  get DELETE() {
    /* istanbul ignore next */
    cov_fl1mimhbb().f[1]++;
    cov_fl1mimhbb().s[4]++;
    return DELETE;
  },
  get GET() {
    /* istanbul ignore next */
    cov_fl1mimhbb().f[2]++;
    cov_fl1mimhbb().s[5]++;
    return GET;
  }
});
const _server =
/* istanbul ignore next */
(cov_fl1mimhbb().s[6]++, require("next/server"));
const _authmiddleware =
/* istanbul ignore next */
(cov_fl1mimhbb().s[7]++, require("../../../../lib/auth/auth-middleware"));
const _usagemiddleware =
/* istanbul ignore next */
(cov_fl1mimhbb().s[8]++, require("../../../../lib/usage/usage-middleware"));
const _securestorage =
/* istanbul ignore next */
(cov_fl1mimhbb().s[9]++, require("../../../../lib/storage/secure-storage"));
const _logger =
/* istanbul ignore next */
(cov_fl1mimhbb().s[10]++, require("../../../../lib/logger"));
const GET =
/* istanbul ignore next */
(cov_fl1mimhbb().s[11]++, (0, _authmiddleware.withAuth)((0, _usagemiddleware.withApiControls)(async (request, context, {
  params
}) => {
  /* istanbul ignore next */
  cov_fl1mimhbb().f[3]++;
  cov_fl1mimhbb().s[12]++;
  try {
    const {
      user
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[13]++, context);
    const {
      fileId
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[14]++, params);
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[15]++, new URL(request.url));
    const expiresIn =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[16]++, Math.min(parseInt(
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[0][0]++, searchParams.get('expiresIn')) ||
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[0][1]++, '3600')), 86400 // Max 24 hours
    ));
    const inline =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[17]++, searchParams.get('inline') === 'true');
    /* istanbul ignore next */
    cov_fl1mimhbb().s[18]++;
    if (!fileId) {
      /* istanbul ignore next */
      cov_fl1mimhbb().b[1][0]++;
      cov_fl1mimhbb().s[19]++;
      return _server.NextResponse.json({
        success: false,
        error: 'File ID required',
        message: 'Please provide a valid file ID'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_fl1mimhbb().b[1][1]++;
    }
    const secureStorage =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[20]++, (0, _securestorage.getSecureStorage)());
    const result =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[21]++, await secureStorage.getSignedUrl(fileId, user.id, expiresIn,
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[2][0]++, request.headers.get('x-forwarded-for')) ||
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[2][1]++, 'unknown'),
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[3][0]++, request.headers.get('user-agent')) ||
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[3][1]++, 'unknown')));
    /* istanbul ignore next */
    cov_fl1mimhbb().s[22]++;
    if (result.error) {
      /* istanbul ignore next */
      cov_fl1mimhbb().b[4][0]++;
      const statusCode =
      /* istanbul ignore next */
      (cov_fl1mimhbb().s[23]++, result.error === 'Access denied' ?
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[5][0]++, 403) :
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[5][1]++, result.error === 'File not found' ?
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[6][0]++, 404) :
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[6][1]++, 500)));
      /* istanbul ignore next */
      cov_fl1mimhbb().s[24]++;
      return _server.NextResponse.json({
        success: false,
        error: result.error,
        message: result.error === 'Access denied' ?
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[7][0]++, 'You do not have permission to access this file') :
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[7][1]++, result.error)
      }, {
        status: statusCode
      });
    } else
    /* istanbul ignore next */
    {
      cov_fl1mimhbb().b[4][1]++;
    }
    // Get file info for response
    const {
      data: file,
      error: fileError
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[25]++, await supabaseAdmin.from('app.files').select('name, content_type, file_size').eq('id', fileId).single());
    const responseData =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[26]++, {
      success: true,
      data: {
        downloadUrl: result.url,
        expiresIn,
        expiresAt: new Date(Date.now() + expiresIn * 1000).toISOString(),
        fileName:
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[8][0]++, file?.name) ||
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[8][1]++, 'download'),
        contentType:
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[9][0]++, file?.content_type) ||
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[9][1]++, 'application/octet-stream'),
        fileSize:
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[10][0]++, file?.file_size) ||
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[10][1]++, 0),
        inline
      }
    });
    // If inline viewing is requested, redirect directly
    /* istanbul ignore next */
    cov_fl1mimhbb().s[27]++;
    if (
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[12][0]++, inline) &&
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[12][1]++, result.url)) {
      /* istanbul ignore next */
      cov_fl1mimhbb().b[11][0]++;
      cov_fl1mimhbb().s[28]++;
      return _server.NextResponse.redirect(result.url);
    } else
    /* istanbul ignore next */
    {
      cov_fl1mimhbb().b[11][1]++;
    }
    cov_fl1mimhbb().s[29]++;
    return _server.NextResponse.json(responseData);
  } catch (error) {
    /* istanbul ignore next */
    cov_fl1mimhbb().s[30]++;
    _logger.logger.error('Failed to generate download URL', {
      userId: context.user.id,
      fileId: params.fileId,
      error: error.message
    });
    /* istanbul ignore next */
    cov_fl1mimhbb().s[31]++;
    return _server.NextResponse.json({
      success: false,
      error: 'Failed to generate download URL',
      message: 'Please try again later'
    }, {
      status: 500
    });
  }
})));
const DELETE =
/* istanbul ignore next */
(cov_fl1mimhbb().s[32]++, (0, _authmiddleware.withAuth)((0, _usagemiddleware.withApiControls)(async (request, context, {
  params
}) => {
  /* istanbul ignore next */
  cov_fl1mimhbb().f[4]++;
  cov_fl1mimhbb().s[33]++;
  try {
    const {
      user
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[34]++, context);
    const {
      fileId
    } =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[35]++, params);
    /* istanbul ignore next */
    cov_fl1mimhbb().s[36]++;
    if (!fileId) {
      /* istanbul ignore next */
      cov_fl1mimhbb().b[13][0]++;
      cov_fl1mimhbb().s[37]++;
      return _server.NextResponse.json({
        success: false,
        error: 'File ID required',
        message: 'Please provide a valid file ID'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_fl1mimhbb().b[13][1]++;
    }
    const secureStorage =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[38]++, (0, _securestorage.getSecureStorage)());
    const result =
    /* istanbul ignore next */
    (cov_fl1mimhbb().s[39]++, await secureStorage.deleteFile(fileId, user.id,
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[14][0]++, request.headers.get('x-forwarded-for')) ||
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[14][1]++, 'unknown'),
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[15][0]++, request.headers.get('user-agent')) ||
    /* istanbul ignore next */
    (cov_fl1mimhbb().b[15][1]++, 'unknown')));
    /* istanbul ignore next */
    cov_fl1mimhbb().s[40]++;
    if (!result.success) {
      /* istanbul ignore next */
      cov_fl1mimhbb().b[16][0]++;
      const statusCode =
      /* istanbul ignore next */
      (cov_fl1mimhbb().s[41]++, result.error === 'Access denied' ?
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[17][0]++, 403) :
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[17][1]++, result.error === 'File not found' ?
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[18][0]++, 404) :
      /* istanbul ignore next */
      (cov_fl1mimhbb().b[18][1]++, 500)));
      /* istanbul ignore next */
      cov_fl1mimhbb().s[42]++;
      return _server.NextResponse.json({
        success: false,
        error: result.error,
        message: result.error === 'Access denied' ?
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[19][0]++, 'You do not have permission to delete this file') :
        /* istanbul ignore next */
        (cov_fl1mimhbb().b[19][1]++, result.error)
      }, {
        status: statusCode
      });
    } else
    /* istanbul ignore next */
    {
      cov_fl1mimhbb().b[16][1]++;
    }
    cov_fl1mimhbb().s[43]++;
    return _server.NextResponse.json({
      success: true,
      message: 'File deleted successfully',
      data: {
        fileId,
        deletedAt: new Date().toISOString()
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_fl1mimhbb().s[44]++;
    _logger.logger.error('Failed to delete file', {
      userId: context.user.id,
      fileId: params.fileId,
      error: error.message
    });
    /* istanbul ignore next */
    cov_fl1mimhbb().s[45]++;
    return _server.NextResponse.json({
      success: false,
      error: 'Failed to delete file',
      message: 'Please try again later'
    }, {
      status: 500
    });
  }
})));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZmwxbWltaGJiIiwicGF0aCIsImhhc2giLCJnbG9iYWwiLCJGdW5jdGlvbiIsImdjdiIsImNvdmVyYWdlRGF0YSIsInN0YXRlbWVudE1hcCIsInN0YXJ0IiwibGluZSIsImNvbHVtbiIsImVuZCIsImZuTWFwIiwibmFtZSIsImRlY2wiLCJsb2MiLCJicmFuY2hNYXAiLCJ0eXBlIiwibG9jYXRpb25zIiwidW5kZWZpbmVkIiwicyIsImYiLCJiIiwiaW5wdXRTb3VyY2VNYXAiLCJ2ZXJzaW9uIiwic291cmNlcyIsInNvdXJjZXNDb250ZW50IiwibmFtZXMiLCJtYXBwaW5ncyIsIl9jb3ZlcmFnZVNjaGVtYSIsImNvdmVyYWdlIiwiYWN0dWFsQ292ZXJhZ2UiLCJERUxFVEUiLCJHRVQiLCJfYXV0aG1pZGRsZXdhcmUiLCJ3aXRoQXV0aCIsIl91c2FnZW1pZGRsZXdhcmUiLCJ3aXRoQXBpQ29udHJvbHMiLCJyZXF1ZXN0IiwiY29udGV4dCIsInBhcmFtcyIsInVzZXIiLCJmaWxlSWQiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJleHBpcmVzSW4iLCJNYXRoIiwibWluIiwicGFyc2VJbnQiLCJnZXQiLCJpbmxpbmUiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJzZWN1cmVTdG9yYWdlIiwiX3NlY3VyZXN0b3JhZ2UiLCJnZXRTZWN1cmVTdG9yYWdlIiwicmVzdWx0IiwiZ2V0U2lnbmVkVXJsIiwiaWQiLCJoZWFkZXJzIiwic3RhdHVzQ29kZSIsImRhdGEiLCJmaWxlIiwiZmlsZUVycm9yIiwic3VwYWJhc2VBZG1pbiIsImZyb20iLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsInJlc3BvbnNlRGF0YSIsImRvd25sb2FkVXJsIiwiZXhwaXJlc0F0IiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwiZmlsZU5hbWUiLCJjb250ZW50VHlwZSIsImNvbnRlbnRfdHlwZSIsImZpbGVTaXplIiwiZmlsZV9zaXplIiwicmVkaXJlY3QiLCJfbG9nZ2VyIiwibG9nZ2VyIiwidXNlcklkIiwiZGVsZXRlRmlsZSIsImRlbGV0ZWRBdCJdLCJzb3VyY2VzIjpbIlI6XFxBcHBzXFxCcmllZmx5X0Nsb3VkXFxicmllZmx5LWNsb3VkLW5leHRqc1xcc3JjXFxhcHBcXGFwaVxcZmlsZXNcXFtmaWxlSWRdXFxkb3dubG9hZFxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIFNlY3VyZSBGaWxlIERvd25sb2FkIEFQSSBSb3V0ZVxyXG4gKiBcclxuICogVGhpcyBlbmRwb2ludCBwcm92aWRlcyBzZWN1cmUgZmlsZSBkb3dubG9hZHMgd2l0aCBwcm9wZXIgYWNjZXNzIGNvbnRyb2xzLFxyXG4gKiBhdWRpdCBsb2dnaW5nLCBhbmQgc2lnbmVkIFVSTCBnZW5lcmF0aW9uLlxyXG4gKi9cclxuXHJcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgd2l0aEF1dGggfSBmcm9tICdAL2FwcC9saWIvYXV0aC9hdXRoLW1pZGRsZXdhcmUnXHJcbmltcG9ydCB7IHdpdGhBcGlDb250cm9scyB9IGZyb20gJ0AvYXBwL2xpYi91c2FnZS91c2FnZS1taWRkbGV3YXJlJ1xyXG5pbXBvcnQgeyBnZXRTZWN1cmVTdG9yYWdlIH0gZnJvbSAnQC9hcHAvbGliL3N0b3JhZ2Uvc2VjdXJlLXN0b3JhZ2UnXHJcbmltcG9ydCB7IGdldEF1ZGl0TG9nZ2VyIH0gZnJvbSAnQC9hcHAvbGliL2F1ZGl0L2F1ZGl0LWxvZ2dlcidcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9hcHAvbGliL2xvZ2dlcidcclxuXHJcbmludGVyZmFjZSBSb3V0ZVBhcmFtcyB7XHJcbiAgcGFyYW1zOiB7XHJcbiAgICBmaWxlSWQ6IHN0cmluZ1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEdFVCAvYXBpL2ZpbGVzL1tmaWxlSWRdL2Rvd25sb2FkXHJcbiAqIFxyXG4gKiBHZW5lcmF0ZSBzZWN1cmUgZG93bmxvYWQgVVJMIGZvciBhIGZpbGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBHRVQgPSB3aXRoQXV0aChcclxuICB3aXRoQXBpQ29udHJvbHMoYXN5bmMgKHJlcXVlc3Q6IE5leHRSZXF1ZXN0LCBjb250ZXh0LCB7IHBhcmFtcyB9OiBSb3V0ZVBhcmFtcykgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyB1c2VyIH0gPSBjb250ZXh0XHJcbiAgICAgIGNvbnN0IHsgZmlsZUlkIH0gPSBwYXJhbXNcclxuICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBleHBpcmVzSW4gPSBNYXRoLm1pbihcclxuICAgICAgICBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdleHBpcmVzSW4nKSB8fCAnMzYwMCcpLCBcclxuICAgICAgICA4NjQwMCAvLyBNYXggMjQgaG91cnNcclxuICAgICAgKVxyXG4gICAgICBjb25zdCBpbmxpbmUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdpbmxpbmUnKSA9PT0gJ3RydWUnXHJcblxyXG4gICAgICBpZiAoIWZpbGVJZCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgICAgZXJyb3I6ICdGaWxlIElEIHJlcXVpcmVkJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgZmlsZSBJRCdcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNlY3VyZVN0b3JhZ2UgPSBnZXRTZWN1cmVTdG9yYWdlKClcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJlU3RvcmFnZS5nZXRTaWduZWRVcmwoXHJcbiAgICAgICAgZmlsZUlkLFxyXG4gICAgICAgIHVzZXIuaWQsXHJcbiAgICAgICAgZXhwaXJlc0luLFxyXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJyxcclxuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGlmIChyZXN1bHQuZXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gcmVzdWx0LmVycm9yID09PSAnQWNjZXNzIGRlbmllZCcgPyA0MDMgOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3IgPT09ICdGaWxlIG5vdCBmb3VuZCcgPyA0MDQgOiA1MDBcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgICAgICBlcnJvcjogcmVzdWx0LmVycm9yLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3IgPT09ICdBY2Nlc3MgZGVuaWVkJyBcclxuICAgICAgICAgICAgICA/ICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBhY2Nlc3MgdGhpcyBmaWxlJ1xyXG4gICAgICAgICAgICAgIDogcmVzdWx0LmVycm9yXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IHN0YXR1c0NvZGUgfVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR2V0IGZpbGUgaW5mbyBmb3IgcmVzcG9uc2VcclxuICAgICAgY29uc3QgeyBkYXRhOiBmaWxlLCBlcnJvcjogZmlsZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXHJcbiAgICAgICAgLmZyb20oJ2FwcC5maWxlcycpXHJcbiAgICAgICAgLnNlbGVjdCgnbmFtZSwgY29udGVudF90eXBlLCBmaWxlX3NpemUnKVxyXG4gICAgICAgIC5lcSgnaWQnLCBmaWxlSWQpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XHJcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBkb3dubG9hZFVybDogcmVzdWx0LnVybCxcclxuICAgICAgICAgIGV4cGlyZXNJbixcclxuICAgICAgICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIGV4cGlyZXNJbiAqIDEwMDApLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICBmaWxlTmFtZTogZmlsZT8ubmFtZSB8fCAnZG93bmxvYWQnLFxyXG4gICAgICAgICAgY29udGVudFR5cGU6IGZpbGU/LmNvbnRlbnRfdHlwZSB8fCAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyxcclxuICAgICAgICAgIGZpbGVTaXplOiBmaWxlPy5maWxlX3NpemUgfHwgMCxcclxuICAgICAgICAgIGlubGluZVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgaW5saW5lIHZpZXdpbmcgaXMgcmVxdWVzdGVkLCByZWRpcmVjdCBkaXJlY3RseVxyXG4gICAgICBpZiAoaW5saW5lICYmIHJlc3VsdC51cmwpIHtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KHJlc3VsdC51cmwpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihyZXNwb25zZURhdGEpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgZG93bmxvYWQgVVJMJywge1xyXG4gICAgICAgIHVzZXJJZDogY29udGV4dC51c2VyLmlkLFxyXG4gICAgICAgIGZpbGVJZDogcGFyYW1zLmZpbGVJZCxcclxuICAgICAgICBlcnJvcjogKGVycm9yIGFzIEVycm9yKS5tZXNzYWdlXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGdlbmVyYXRlIGRvd25sb2FkIFVSTCcsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHRyeSBhZ2FpbiBsYXRlcidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfSlcclxuKVxyXG5cclxuLyoqXHJcbiAqIERFTEVURSAvYXBpL2ZpbGVzL1tmaWxlSWRdL2Rvd25sb2FkXHJcbiAqIFxyXG4gKiBEZWxldGUgYSBmaWxlIHNlY3VyZWx5XHJcbiAqL1xyXG5leHBvcnQgY29uc3QgREVMRVRFID0gd2l0aEF1dGgoXHJcbiAgd2l0aEFwaUNvbnRyb2xzKGFzeW5jIChyZXF1ZXN0OiBOZXh0UmVxdWVzdCwgY29udGV4dCwgeyBwYXJhbXMgfTogUm91dGVQYXJhbXMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgdXNlciB9ID0gY29udGV4dFxyXG4gICAgICBjb25zdCB7IGZpbGVJZCB9ID0gcGFyYW1zXHJcblxyXG4gICAgICBpZiAoIWZpbGVJZCkge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgICAgZXJyb3I6ICdGaWxlIElEIHJlcXVpcmVkJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBwcm92aWRlIGEgdmFsaWQgZmlsZSBJRCdcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHNlY3VyZVN0b3JhZ2UgPSBnZXRTZWN1cmVTdG9yYWdlKClcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VjdXJlU3RvcmFnZS5kZWxldGVGaWxlKFxyXG4gICAgICAgIGZpbGVJZCxcclxuICAgICAgICB1c2VyLmlkLFxyXG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJyxcclxuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd1c2VyLWFnZW50JykgfHwgJ3Vua25vd24nXHJcbiAgICAgIClcclxuXHJcbiAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICBjb25zdCBzdGF0dXNDb2RlID0gcmVzdWx0LmVycm9yID09PSAnQWNjZXNzIGRlbmllZCcgPyA0MDMgOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZXJyb3IgPT09ICdGaWxlIG5vdCBmb3VuZCcgPyA0MDQgOiA1MDBcclxuXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBcclxuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgICAgICBlcnJvcjogcmVzdWx0LmVycm9yLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiByZXN1bHQuZXJyb3IgPT09ICdBY2Nlc3MgZGVuaWVkJyBcclxuICAgICAgICAgICAgICA/ICdZb3UgZG8gbm90IGhhdmUgcGVybWlzc2lvbiB0byBkZWxldGUgdGhpcyBmaWxlJ1xyXG4gICAgICAgICAgICAgIDogcmVzdWx0LmVycm9yXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgeyBzdGF0dXM6IHN0YXR1c0NvZGUgfVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdGaWxlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyxcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBmaWxlSWQsXHJcbiAgICAgICAgICBkZWxldGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgZmlsZScsIHtcclxuICAgICAgICB1c2VySWQ6IGNvbnRleHQudXNlci5pZCxcclxuICAgICAgICBmaWxlSWQ6IHBhcmFtcy5maWxlSWQsXHJcbiAgICAgICAgZXJyb3I6IChlcnJvciBhcyBFcnJvcikubWVzc2FnZVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBkZWxldGUgZmlsZScsXHJcbiAgICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHRyeSBhZ2FpbiBsYXRlcidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICApXHJcbiAgICB9XHJcbiAgfSlcclxuKSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0dBS0M7O0FBQUE7QUFBQSxTQUFBQSxjQUFBO0VBQUEsSUFBQUMsSUFBQTtFQUFBLElBQUFDLElBQUE7RUFBQSxJQUFBQyxNQUFBLE9BQUFDLFFBQUE7RUFBQSxJQUFBQyxHQUFBO0VBQUEsSUFBQUMsWUFBQTtJQUFBTCxJQUFBO0lBQUFNLFlBQUE7TUFBQTtRQUFBQyxLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtNQUFBO1FBQUFGLEtBQUE7VUFBQUMsSUFBQTtVQUFBQyxNQUFBO1FBQUE7UUFBQUMsR0FBQTtVQUFBRixJQUFBO1VBQUFDLE1BQUE7UUFBQTtNQUFBO01BQUE7UUFBQUYsS0FBQTtVQUFBQyxJQUFBO1VBQUFDLE1BQUE7UUFBQTtRQUFBQyxHQUFBO1VBQUFGLElBQUE7VUFBQUMsTUFBQTtRQUFBO01BQUE7TUFBQTtRQUFBRixLQUFBO1VBQUFDLElBQUE7VUFBQUMsTUFBQTtRQUFBO1FBQUFDLEdBQUE7VUFBQUYsSUFBQTtVQUFBQyxNQUFBO1FBQUE7TUFBQTtJQUFBO0lBQUFFLEtBQUE7TUFBQTtRQUFBQyxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBSSxJQUFBO1FBQUFDLElBQUE7VUFBQU4sS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUssR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7SUFBQTtJQUFBTyxTQUFBO01BQUE7UUFBQUQsR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7VUFBQVIsR0FBQTtZQUFBRixJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1FBQUE7UUFBQVYsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQUQsSUFBQTtNQUFBO01BQUE7UUFBQU0sR0FBQTtVQUFBUCxLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBTyxJQUFBO1FBQUFDLFNBQUE7VUFBQVYsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7VUFBQUYsS0FBQTtZQUFBQyxJQUFBLEVBQUFVLFNBQUE7WUFBQVQsTUFBQSxFQUFBUztVQUFBO1VBQUFSLEdBQUE7WUFBQUYsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtRQUFBO1FBQUFWLElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFELElBQUE7TUFBQTtNQUFBO1FBQUFNLEdBQUE7VUFBQVAsS0FBQTtZQUFBQyxJQUFBO1lBQUFDLE1BQUE7VUFBQTtVQUFBQyxHQUFBO1lBQUFGLElBQUE7WUFBQUMsTUFBQTtVQUFBO1FBQUE7UUFBQU8sSUFBQTtRQUFBQyxTQUFBO1VBQUFWLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1VBQUFGLEtBQUE7WUFBQUMsSUFBQSxFQUFBVSxTQUFBO1lBQUFULE1BQUEsRUFBQVM7VUFBQTtVQUFBUixHQUFBO1lBQUFGLElBQUEsRUFBQVUsU0FBQTtZQUFBVCxNQUFBLEVBQUFTO1VBQUE7UUFBQTtRQUFBVixJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7TUFBQTtRQUFBTSxHQUFBO1VBQUFQLEtBQUE7WUFBQUMsSUFBQTtZQUFBQyxNQUFBO1VBQUE7VUFBQUMsR0FBQTtZQUFBRixJQUFBO1lBQUFDLE1BQUE7VUFBQTtRQUFBO1FBQUFPLElBQUE7UUFBQUMsU0FBQTtVQUFBVixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtVQUFBRixLQUFBO1lBQUFDLElBQUE7WUFBQUMsTUFBQTtVQUFBO1VBQUFDLEdBQUE7WUFBQUYsSUFBQTtZQUFBQyxNQUFBO1VBQUE7UUFBQTtRQUFBRCxJQUFBO01BQUE7SUFBQTtJQUFBVyxDQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7SUFBQTtJQUFBQyxDQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtJQUFBO0lBQUFDLENBQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO01BQUE7TUFBQTtNQUFBO0lBQUE7SUFBQUMsY0FBQTtNQUFBQyxPQUFBO01BQUFDLE9BQUE7TUFBQUMsY0FBQTtNQUFBQyxLQUFBO01BQUFDLFFBQUE7SUFBQTtJQUFBQyxlQUFBO0lBQUEzQixJQUFBO0VBQUE7RUFBQSxJQUFBNEIsUUFBQSxHQUFBM0IsTUFBQSxDQUFBRSxHQUFBLE1BQUFGLE1BQUEsQ0FBQUUsR0FBQTtFQUFBLEtBQUF5QixRQUFBLENBQUE3QixJQUFBLEtBQUE2QixRQUFBLENBQUE3QixJQUFBLEVBQUFDLElBQUEsS0FB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