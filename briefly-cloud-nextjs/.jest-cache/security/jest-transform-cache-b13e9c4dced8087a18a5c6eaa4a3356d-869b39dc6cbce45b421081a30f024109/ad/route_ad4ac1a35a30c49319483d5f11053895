a1541ee10b8060b86af88323c4fd3131
"use strict";

/* istanbul ignore next */
function cov_1glmn3ktif() {
  var path = "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\monitoring\\errors\\route.ts";
  var hash = "7631d9ce96e4d53f7414d1f993260521b012225e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\monitoring\\errors\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 13
        },
        end: {
          line: 20,
          column: 27
        }
      },
      "8": {
        start: {
          line: 21,
          column: 16
        },
        end: {
          line: 21,
          column: 46
        }
      },
      "9": {
        start: {
          line: 22,
          column: 19
        },
        end: {
          line: 22,
          column: 53
        }
      },
      "10": {
        start: {
          line: 23,
          column: 19
        },
        end: {
          line: 23,
          column: 53
        }
      },
      "11": {
        start: {
          line: 24,
          column: 18
        },
        end: {
          line: 24,
          column: 50
        }
      },
      "12": {
        start: {
          line: 26,
          column: 28
        },
        end: {
          line: 43,
          column: 2
        }
      },
      "13": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 87,
          column: 7
        }
      },
      "14": {
        start: {
          line: 46,
          column: 8
        },
        end: {
          line: 86,
          column: 9
        }
      },
      "15": {
        start: {
          line: 47,
          column: 25
        },
        end: {
          line: 47,
          column: 45
        }
      },
      "16": {
        start: {
          line: 48,
          column: 30
        },
        end: {
          line: 48,
          column: 61
        }
      },
      "17": {
        start: {
          line: 50,
          column: 29
        },
        end: {
          line: 50,
          column: 52
        }
      },
      "18": {
        start: {
          line: 51,
          column: 30
        },
        end: {
          line: 65,
          column: 14
        }
      },
      "19": {
        start: {
          line: 66,
          column: 12
        },
        end: {
          line: 71,
          column: 13
        }
      },
      "20": {
        start: {
          line: 67,
          column: 16
        },
        end: {
          line: 69,
          column: 19
        }
      },
      "21": {
        start: {
          line: 70,
          column: 16
        },
        end: {
          line: 70,
          column: 89
        }
      },
      "22": {
        start: {
          line: 72,
          column: 12
        },
        end: {
          line: 76,
          column: 15
        }
      },
      "23": {
        start: {
          line: 77,
          column: 12
        },
        end: {
          line: 80,
          column: 15
        }
      },
      "24": {
        start: {
          line: 82,
          column: 12
        },
        end: {
          line: 84,
          column: 15
        }
      },
      "25": {
        start: {
          line: 85,
          column: 12
        },
        end: {
          line: 85,
          column: 79
        }
      },
      "26": {
        start: {
          line: 90,
          column: 4
        },
        end: {
          line: 155,
          column: 7
        }
      },
      "27": {
        start: {
          line: 91,
          column: 8
        },
        end: {
          line: 154,
          column: 9
        }
      },
      "28": {
        start: {
          line: 92,
          column: 37
        },
        end: {
          line: 92,
          column: 57
        }
      },
      "29": {
        start: {
          line: 93,
          column: 26
        },
        end: {
          line: 93,
          column: 69
        }
      },
      "30": {
        start: {
          line: 94,
          column: 29
        },
        end: {
          line: 94,
          column: 57
        }
      },
      "31": {
        start: {
          line: 95,
          column: 30
        },
        end: {
          line: 95,
          column: 59
        }
      },
      "32": {
        start: {
          line: 97,
          column: 29
        },
        end: {
          line: 97,
          column: 52
        }
      },
      "33": {
        start: {
          line: 98,
          column: 31
        },
        end: {
          line: 98,
          column: 41
        }
      },
      "34": {
        start: {
          line: 99,
          column: 12
        },
        end: {
          line: 99,
          column: 63
        }
      },
      "35": {
        start: {
          line: 100,
          column: 24
        },
        end: {
          line: 102,
          column: 14
        }
      },
      "36": {
        start: {
          line: 103,
          column: 12
        },
        end: {
          line: 105,
          column: 13
        }
      },
      "37": {
        start: {
          line: 104,
          column: 16
        },
        end: {
          line: 104,
          column: 55
        }
      },
      "38": {
        start: {
          line: 106,
          column: 12
        },
        end: {
          line: 108,
          column: 13
        }
      },
      "39": {
        start: {
          line: 107,
          column: 16
        },
        end: {
          line: 107,
          column: 58
        }
      },
      "40": {
        start: {
          line: 109,
          column: 44
        },
        end: {
          line: 109,
          column: 55
        }
      },
      "41": {
        start: {
          line: 110,
          column: 12
        },
        end: {
          line: 115,
          column: 13
        }
      },
      "42": {
        start: {
          line: 111,
          column: 16
        },
        end: {
          line: 113,
          column: 19
        }
      },
      "43": {
        start: {
          line: 114,
          column: 16
        },
        end: {
          line: 114,
          column: 93
        }
      },
      "44": {
        start: {
          line: 117,
          column: 31
        },
        end: {
          line: 135,
          column: 13
        }
      },
      "45": {
        start: {
          line: 118,
          column: 16
        },
        end: {
          line: 118,
          column: 36
        }
      },
      "46": {
        start: {
          line: 119,
          column: 16
        },
        end: {
          line: 119,
          column: 95
        }
      },
      "47": {
        start: {
          line: 120,
          column: 16
        },
        end: {
          line: 120,
          column: 91
        }
      },
      "48": {
        start: {
          line: 121,
          column: 16
        },
        end: {
          line: 123,
          column: 17
        }
      },
      "49": {
        start: {
          line: 122,
          column: 20
        },
        end: {
          line: 122,
          column: 43
        }
      },
      "50": {
        start: {
          line: 124,
          column: 16
        },
        end: {
          line: 124,
          column: 29
        }
      },
      "51": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 148,
          column: 15
        }
      },
      "52": {
        start: {
          line: 150,
          column: 12
        },
        end: {
          line: 152,
          column: 15
        }
      },
      "53": {
        start: {
          line: 153,
          column: 12
        },
        end: {
          line: 153,
          column: 85
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 15
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "POST",
        decl: {
          start: {
            line: 44,
            column: 15
          },
          end: {
            line: 44,
            column: 19
          }
        },
        loc: {
          start: {
            line: 44,
            column: 29
          },
          end: {
            line: 88,
            column: 1
          }
        },
        line: 44
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 45,
            column: 50
          },
          end: {
            line: 45,
            column: 51
          }
        },
        loc: {
          start: {
            line: 45,
            column: 60
          },
          end: {
            line: 87,
            column: 5
          }
        },
        line: 45
      },
      "5": {
        name: "GET",
        decl: {
          start: {
            line: 89,
            column: 15
          },
          end: {
            line: 89,
            column: 18
          }
        },
        loc: {
          start: {
            line: 89,
            column: 28
          },
          end: {
            line: 156,
            column: 1
          }
        },
        line: 89
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 90,
            column: 50
          },
          end: {
            line: 90,
            column: 51
          }
        },
        loc: {
          start: {
            line: 90,
            column: 60
          },
          end: {
            line: 155,
            column: 5
          }
        },
        line: 90
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 117,
            column: 46
          },
          end: {
            line: 117,
            column: 47
          }
        },
        loc: {
          start: {
            line: 117,
            column: 62
          },
          end: {
            line: 125,
            column: 13
          }
        },
        line: 117
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 54,
            column: 23
          },
          end: {
            line: 54,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 54,
            column: 23
          },
          end: {
            line: 54,
            column: 38
          }
        }, {
          start: {
            line: 54,
            column: 42
          },
          end: {
            line: 54,
            column: 44
          }
        }],
        line: 54
      },
      "1": {
        loc: {
          start: {
            line: 55,
            column: 25
          },
          end: {
            line: 55,
            column: 48
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 55,
            column: 25
          },
          end: {
            line: 55,
            column: 42
          }
        }, {
          start: {
            line: 55,
            column: 46
          },
          end: {
            line: 55,
            column: 48
          }
        }],
        line: 55
      },
      "2": {
        loc: {
          start: {
            line: 58,
            column: 26
          },
          end: {
            line: 58,
            column: 56
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 58,
            column: 26
          },
          end: {
            line: 58,
            column: 44
          }
        }, {
          start: {
            line: 58,
            column: 48
          },
          end: {
            line: 58,
            column: 56
          }
        }],
        line: 58
      },
      "3": {
        loc: {
          start: {
            line: 59,
            column: 28
          },
          end: {
            line: 59,
            column: 60
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 59,
            column: 28
          },
          end: {
            line: 59,
            column: 47
          }
        }, {
          start: {
            line: 59,
            column: 51
          },
          end: {
            line: 59,
            column: 60
          }
        }],
        line: 59
      },
      "4": {
        loc: {
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 66,
            column: 12
          },
          end: {
            line: 71,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 66
      },
      "5": {
        loc: {
          start: {
            line: 93,
            column: 35
          },
          end: {
            line: 93,
            column: 68
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 93,
            column: 35
          },
          end: {
            line: 93,
            column: 60
          }
        }, {
          start: {
            line: 93,
            column: 64
          },
          end: {
            line: 93,
            column: 68
          }
        }],
        line: 93
      },
      "6": {
        loc: {
          start: {
            line: 103,
            column: 12
          },
          end: {
            line: 105,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 103,
            column: 12
          },
          end: {
            line: 105,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 103
      },
      "7": {
        loc: {
          start: {
            line: 106,
            column: 12
          },
          end: {
            line: 108,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 12
          },
          end: {
            line: 108,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 106
      },
      "8": {
        loc: {
          start: {
            line: 110,
            column: 12
          },
          end: {
            line: 115,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 110,
            column: 12
          },
          end: {
            line: 115,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 110
      },
      "9": {
        loc: {
          start: {
            line: 117,
            column: 31
          },
          end: {
            line: 135,
            column: 13
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 117,
            column: 31
          },
          end: {
            line: 130,
            column: 14
          }
        }, {
          start: {
            line: 130,
            column: 18
          },
          end: {
            line: 135,
            column: 13
          }
        }],
        line: 117
      },
      "10": {
        loc: {
          start: {
            line: 119,
            column: 52
          },
          end: {
            line: 119,
            column: 89
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 119,
            column: 52
          },
          end: {
            line: 119,
            column: 84
          }
        }, {
          start: {
            line: 119,
            column: 88
          },
          end: {
            line: 119,
            column: 89
          }
        }],
        line: 119
      },
      "11": {
        loc: {
          start: {
            line: 120,
            column: 50
          },
          end: {
            line: 120,
            column: 85
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 120,
            column: 50
          },
          end: {
            line: 120,
            column: 80
          }
        }, {
          start: {
            line: 120,
            column: 84
          },
          end: {
            line: 120,
            column: 85
          }
        }],
        line: 120
      },
      "12": {
        loc: {
          start: {
            line: 121,
            column: 16
          },
          end: {
            line: 123,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 121,
            column: 16
          },
          end: {
            line: 123,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 121
      },
      "13": {
        loc: {
          start: {
            line: 121,
            column: 20
          },
          end: {
            line: 121,
            column: 78
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 121,
            column: 20
          },
          end: {
            line: 121,
            column: 49
          }
        }, {
          start: {
            line: 121,
            column: 53
          },
          end: {
            line: 121,
            column: 78
          }
        }],
        line: 121
      },
      "14": {
        loc: {
          start: {
            line: 139,
            column: 28
          },
          end: {
            line: 139,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 139,
            column: 28
          },
          end: {
            line: 139,
            column: 34
          }
        }, {
          start: {
            line: 139,
            column: 38
          },
          end: {
            line: 139,
            column: 40
          }
        }],
        line: 139
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["R:\\Apps\\Briefly_Cloud\\briefly-cloud-nextjs\\src\\app\\api\\monitoring\\errors\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server'\r\nimport { z } from 'zod'\r\nimport { logger } from '@/app/lib/logger'\r\nimport { formatErrorResponse } from '@/app/lib/api-errors'\r\nimport { withRateLimit } from '@/app/lib/rate-limit'\r\nimport { createClient } from '@supabase/supabase-js'\r\nimport { supabaseAdmin } from '@/app/lib/supabase'\n\r\n// Error tracking schema\r\nconst ErrorTrackingSchema = z.object({\r\n  message: z.string(),\r\n  stack: z.string().optional(),\r\n  context: z.record(z.any()).optional(),\r\n  userId: z.string().optional(),\r\n  sessionId: z.string().optional(),\r\n  timestamp: z.string().datetime(),\r\n  severity: z.enum(['low', 'medium', 'high', 'critical']).optional(),\r\n  errorType: z.string().optional(),\r\n  url: z.string().optional(),\r\n  userAgent: z.string().optional(),\r\n  ipAddress: z.string().optional(),\r\n})\r\n\r\nexport async function POST(request: NextRequest) {\r\n  return withRateLimit(request, async () => {\r\n    try {\r\n      const body = await request.json()\r\n      const errorData = ErrorTrackingSchema.parse(body)\r\n\r\n      // Store error in database\r\n      const supabase = supabaseAdmin\r\n\r\n      const { error } = await supabase\r\n        .from('error_logs')\r\n        .insert({\r\n          id: crypto.randomUUID(),\r\n          message: errorData.message,\r\n          stack: errorData.stack || '',\r\n          context: errorData.context || {},\r\n          user_id: errorData.userId,\r\n          session_id: errorData.sessionId,\r\n          severity: errorData.severity || 'medium',\r\n          error_type: errorData.errorType || 'unknown',\r\n          url: errorData.url,\r\n          user_agent: errorData.userAgent,\r\n          ip_address: errorData.ipAddress,\r\n          timestamp: errorData.timestamp,\r\n          created_at: new Date().toISOString(),\r\n        })\r\n\r\n      if (error) {\r\n        logger.error('Failed to store error log', { error })\r\n        return formatErrorResponse('Failed to store error', 500)\r\n      }\r\n\r\n      logger.error('Error tracked', { \r\n        message: errorData.message,\r\n        severity: errorData.severity,\r\n        userId: errorData.userId \r\n      })\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        message: 'Error tracked successfully'\r\n      })\r\n\r\n    } catch (error) {\r\n      logger.error('Error tracking error', { error })\r\n      return formatErrorResponse('Invalid request', 400)\r\n    }\r\n  })\r\n}\r\n\r\nexport async function GET(request: NextRequest) {\r\n  return withRateLimit(request, async () => {\r\n    try {\r\n      const { searchParams } = new URL(request.url)\r\n      const hours = parseInt(searchParams.get('hours') || '24')\r\n      const severity = searchParams.get('severity')\r\n      const errorType = searchParams.get('errorType')\r\n\r\n      // Get error logs\r\n      const supabase = supabaseAdmin\r\n\r\n      const cutoffDate = new Date()\r\n      cutoffDate.setHours(cutoffDate.getHours() - hours)\r\n\r\n      let query = supabase\r\n        .from('error_logs')\r\n        .select('*')\r\n        .gte('created_at', cutoffDate.toISOString())\r\n        .order('created_at', { ascending: false })\r\n\r\n      if (severity) {\r\n        query = query.eq('severity', severity)\r\n      }\r\n\r\n      if (errorType) {\r\n        query = query.eq('error_type', errorType)\r\n      }\r\n\r\n      const { data: errors, error } = await query\r\n\r\n      if (error) {\r\n        logger.error('Failed to get error logs', { error })\r\n        return formatErrorResponse('Failed to retrieve errors', 500)\r\n      }\r\n\r\n      // Calculate error statistics\r\n      const errorStats = errors?.reduce((stats, error) => {\r\n        stats.totalErrors++\r\n        stats.bySeverity[error.severity] = (stats.bySeverity[error.severity] || 0) + 1\r\n        stats.byType[error.error_type] = (stats.byType[error.error_type] || 0) + 1\r\n        \r\n        if (error.severity === 'critical' || error.severity === 'high') {\r\n          stats.criticalErrors++\r\n        }\r\n        \r\n        return stats\r\n      }, {\r\n        totalErrors: 0,\r\n        criticalErrors: 0,\r\n        bySeverity: {} as Record<string, number>,\r\n        byType: {} as Record<string, number>,\r\n      }) || {\r\n        totalErrors: 0,\r\n        criticalErrors: 0,\r\n        bySeverity: {},\r\n        byType: {},\r\n      }\r\n\r\n      return NextResponse.json({\r\n        success: true,\r\n        data: {\r\n          errors: errors || [],\r\n          statistics: errorStats,\r\n          summary: {\r\n            totalErrors: errorStats.totalErrors,\r\n            criticalErrors: errorStats.criticalErrors,\r\n            errorRate: errorStats.totalErrors / hours, // errors per hour\r\n            timeRange: `${hours} hours`,\r\n          }\r\n        }\r\n      })\r\n\r\n    } catch (error) {\r\n      logger.error('Error logs retrieval error', { error })\r\n      return formatErrorResponse('Internal server error', 500)\r\n    }\r\n  })\r\n}\r\n"],
      names: ["GET", "POST", "ErrorTrackingSchema", "z", "object", "message", "string", "stack", "optional", "context", "record", "any", "userId", "sessionId", "timestamp", "datetime", "severity", "enum", "errorType", "url", "userAgent", "ipAddress", "request", "withRateLimit", "body", "json", "errorData", "parse", "supabase", "supabaseAdmin", "error", "from", "insert", "id", "crypto", "randomUUID", "user_id", "session_id", "error_type", "user_agent", "ip_address", "created_at", "Date", "toISOString", "logger", "formatErrorResponse", "NextResponse", "success", "searchParams", "URL", "hours", "parseInt", "get", "cutoffDate", "setHours", "getHours", "query", "select", "gte", "order", "ascending", "eq", "data", "errors", "errorStats", "reduce", "stats", "totalErrors", "bySeverity", "byType", "criticalErrors", "statistics", "summary", "errorRate", "timeRange"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7631d9ce96e4d53f7414d1f993260521b012225e"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1glmn3ktif = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_1glmn3ktif();
cov_1glmn3ktif().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_1glmn3ktif().f[0]++;
  cov_1glmn3ktif().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_1glmn3ktif().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_1glmn3ktif().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_1glmn3ktif().f[1]++;
    cov_1glmn3ktif().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_1glmn3ktif().f[2]++;
    cov_1glmn3ktif().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_1glmn3ktif().s[6]++, require("next/server"));
const _zod =
/* istanbul ignore next */
(cov_1glmn3ktif().s[7]++, require("zod"));
const _logger =
/* istanbul ignore next */
(cov_1glmn3ktif().s[8]++, require("../../../lib/logger"));
const _apierrors =
/* istanbul ignore next */
(cov_1glmn3ktif().s[9]++, require("../../../lib/api-errors"));
const _ratelimit =
/* istanbul ignore next */
(cov_1glmn3ktif().s[10]++, require("../../../lib/rate-limit"));
const _supabase =
/* istanbul ignore next */
(cov_1glmn3ktif().s[11]++, require("../../../lib/supabase"));
// Error tracking schema
const ErrorTrackingSchema =
/* istanbul ignore next */
(cov_1glmn3ktif().s[12]++, _zod.z.object({
  message: _zod.z.string(),
  stack: _zod.z.string().optional(),
  context: _zod.z.record(_zod.z.any()).optional(),
  userId: _zod.z.string().optional(),
  sessionId: _zod.z.string().optional(),
  timestamp: _zod.z.string().datetime(),
  severity: _zod.z.enum(['low', 'medium', 'high', 'critical']).optional(),
  errorType: _zod.z.string().optional(),
  url: _zod.z.string().optional(),
  userAgent: _zod.z.string().optional(),
  ipAddress: _zod.z.string().optional()
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_1glmn3ktif().f[3]++;
  cov_1glmn3ktif().s[13]++;
  return (0, _ratelimit.withRateLimit)(request, async () => {
    /* istanbul ignore next */
    cov_1glmn3ktif().f[4]++;
    cov_1glmn3ktif().s[14]++;
    try {
      const body =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[15]++, await request.json());
      const errorData =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[16]++, ErrorTrackingSchema.parse(body));
      // Store error in database
      const supabase =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[17]++, _supabase.supabaseAdmin);
      const {
        error
      } =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[18]++, await supabase.from('error_logs').insert({
        id: crypto.randomUUID(),
        message: errorData.message,
        stack:
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[0][0]++, errorData.stack) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[0][1]++, ''),
        context:
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[1][0]++, errorData.context) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[1][1]++, {}),
        user_id: errorData.userId,
        session_id: errorData.sessionId,
        severity:
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[2][0]++, errorData.severity) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[2][1]++, 'medium'),
        error_type:
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[3][0]++, errorData.errorType) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[3][1]++, 'unknown'),
        url: errorData.url,
        user_agent: errorData.userAgent,
        ip_address: errorData.ipAddress,
        timestamp: errorData.timestamp,
        created_at: new Date().toISOString()
      }));
      /* istanbul ignore next */
      cov_1glmn3ktif().s[19]++;
      if (error) {
        /* istanbul ignore next */
        cov_1glmn3ktif().b[4][0]++;
        cov_1glmn3ktif().s[20]++;
        _logger.logger.error('Failed to store error log', {
          error
        });
        /* istanbul ignore next */
        cov_1glmn3ktif().s[21]++;
        return (0, _apierrors.formatErrorResponse)('Failed to store error', 500);
      } else
      /* istanbul ignore next */
      {
        cov_1glmn3ktif().b[4][1]++;
      }
      cov_1glmn3ktif().s[22]++;
      _logger.logger.error('Error tracked', {
        message: errorData.message,
        severity: errorData.severity,
        userId: errorData.userId
      });
      /* istanbul ignore next */
      cov_1glmn3ktif().s[23]++;
      return _server.NextResponse.json({
        success: true,
        message: 'Error tracked successfully'
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1glmn3ktif().s[24]++;
      _logger.logger.error('Error tracking error', {
        error
      });
      /* istanbul ignore next */
      cov_1glmn3ktif().s[25]++;
      return (0, _apierrors.formatErrorResponse)('Invalid request', 400);
    }
  });
}
async function GET(request) {
  /* istanbul ignore next */
  cov_1glmn3ktif().f[5]++;
  cov_1glmn3ktif().s[26]++;
  return (0, _ratelimit.withRateLimit)(request, async () => {
    /* istanbul ignore next */
    cov_1glmn3ktif().f[6]++;
    cov_1glmn3ktif().s[27]++;
    try {
      const {
        searchParams
      } =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[28]++, new URL(request.url));
      const hours =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[29]++, parseInt(
      /* istanbul ignore next */
      (cov_1glmn3ktif().b[5][0]++, searchParams.get('hours')) ||
      /* istanbul ignore next */
      (cov_1glmn3ktif().b[5][1]++, '24')));
      const severity =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[30]++, searchParams.get('severity'));
      const errorType =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[31]++, searchParams.get('errorType'));
      // Get error logs
      const supabase =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[32]++, _supabase.supabaseAdmin);
      const cutoffDate =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[33]++, new Date());
      /* istanbul ignore next */
      cov_1glmn3ktif().s[34]++;
      cutoffDate.setHours(cutoffDate.getHours() - hours);
      let query =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[35]++, supabase.from('error_logs').select('*').gte('created_at', cutoffDate.toISOString()).order('created_at', {
        ascending: false
      }));
      /* istanbul ignore next */
      cov_1glmn3ktif().s[36]++;
      if (severity) {
        /* istanbul ignore next */
        cov_1glmn3ktif().b[6][0]++;
        cov_1glmn3ktif().s[37]++;
        query = query.eq('severity', severity);
      } else
      /* istanbul ignore next */
      {
        cov_1glmn3ktif().b[6][1]++;
      }
      cov_1glmn3ktif().s[38]++;
      if (errorType) {
        /* istanbul ignore next */
        cov_1glmn3ktif().b[7][0]++;
        cov_1glmn3ktif().s[39]++;
        query = query.eq('error_type', errorType);
      } else
      /* istanbul ignore next */
      {
        cov_1glmn3ktif().b[7][1]++;
      }
      const {
        data: errors,
        error
      } =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[40]++, await query);
      /* istanbul ignore next */
      cov_1glmn3ktif().s[41]++;
      if (error) {
        /* istanbul ignore next */
        cov_1glmn3ktif().b[8][0]++;
        cov_1glmn3ktif().s[42]++;
        _logger.logger.error('Failed to get error logs', {
          error
        });
        /* istanbul ignore next */
        cov_1glmn3ktif().s[43]++;
        return (0, _apierrors.formatErrorResponse)('Failed to retrieve errors', 500);
      } else
      /* istanbul ignore next */
      {
        cov_1glmn3ktif().b[8][1]++;
      }
      // Calculate error statistics
      const errorStats =
      /* istanbul ignore next */
      (cov_1glmn3ktif().s[44]++,
      /* istanbul ignore next */
      (cov_1glmn3ktif().b[9][0]++, errors?.reduce((stats, error) => {
        /* istanbul ignore next */
        cov_1glmn3ktif().f[7]++;
        cov_1glmn3ktif().s[45]++;
        stats.totalErrors++;
        /* istanbul ignore next */
        cov_1glmn3ktif().s[46]++;
        stats.bySeverity[error.severity] = (
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[10][0]++, stats.bySeverity[error.severity]) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[10][1]++, 0)) + 1;
        /* istanbul ignore next */
        cov_1glmn3ktif().s[47]++;
        stats.byType[error.error_type] = (
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[11][0]++, stats.byType[error.error_type]) ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[11][1]++, 0)) + 1;
        /* istanbul ignore next */
        cov_1glmn3ktif().s[48]++;
        if (
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[13][0]++, error.severity === 'critical') ||
        /* istanbul ignore next */
        (cov_1glmn3ktif().b[13][1]++, error.severity === 'high')) {
          /* istanbul ignore next */
          cov_1glmn3ktif().b[12][0]++;
          cov_1glmn3ktif().s[49]++;
          stats.criticalErrors++;
        } else
        /* istanbul ignore next */
        {
          cov_1glmn3ktif().b[12][1]++;
        }
        cov_1glmn3ktif().s[50]++;
        return stats;
      }, {
        totalErrors: 0,
        criticalErrors: 0,
        bySeverity: {},
        byType: {}
      })) ||
      /* istanbul ignore next */
      (cov_1glmn3ktif().b[9][1]++, {
        totalErrors: 0,
        criticalErrors: 0,
        bySeverity: {},
        byType: {}
      }));
      /* istanbul ignore next */
      cov_1glmn3ktif().s[51]++;
      return _server.NextResponse.json({
        success: true,
        data: {
          errors:
          /* istanbul ignore next */
          (cov_1glmn3ktif().b[14][0]++, errors) ||
          /* istanbul ignore next */
          (cov_1glmn3ktif().b[14][1]++, []),
          statistics: errorStats,
          summary: {
            totalErrors: errorStats.totalErrors,
            criticalErrors: errorStats.criticalErrors,
            errorRate: errorStats.totalErrors / hours,
            timeRange: `${hours} hours`
          }
        }
      });
    } catch (error) {
      /* istanbul ignore next */
      cov_1glmn3ktif().s[52]++;
      _logger.logger.error('Error logs retrieval error', {
        error
      });
      /* istanbul ignore next */
      cov_1glmn3ktif().s[53]++;
      return (0, _apierrors.formatErrorResponse)('Internal server error', 500);
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMWdsbW4za3RpZiIsImYiLCJzIiwiUE9TVCIsIkVycm9yVHJhY2tpbmdTY2hlbWEiLCJfem9kIiwieiIsIm9iamVjdCIsIm1lc3NhZ2UiLCJzdHJpbmciLCJzdGFjayIsIm9wdGlvbmFsIiwiY29udGV4dCIsInJlY29yZCIsImFueSIsInVzZXJJZCIsInNlc3Npb25JZCIsInRpbWVzdGFtcCIsImRhdGV0aW1lIiwic2V2ZXJpdHkiLCJlbnVtIiwiZXJyb3JUeXBlIiwidXJsIiwidXNlckFnZW50IiwiaXBBZGRyZXNzIiwicmVxdWVzdCIsIl9yYXRlbGltaXQiLCJ3aXRoUmF0ZUxpbWl0IiwiYm9keSIsImpzb24iLCJlcnJvckRhdGEiLCJwYXJzZSIsInN1cGFiYXNlIiwiX3N1cGFiYXNlIiwic3VwYWJhc2VBZG1pbiIsImVycm9yIiwiZnJvbSIsImluc2VydCIsImlkIiwiY3J5cHRvIiwicmFuZG9tVVVJRCIsImIiLCJ1c2VyX2lkIiwic2Vzc2lvbl9pZCIsImVycm9yX3R5cGUiLCJ1c2VyX2FnZW50IiwiaXBfYWRkcmVzcyIsImNyZWF0ZWRfYXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJfbG9nZ2VyIiwibG9nZ2VyIiwiX2FwaWVycm9ycyIsImZvcm1hdEVycm9yUmVzcG9uc2UiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwic3VjY2VzcyIsInNlYXJjaFBhcmFtcyIsIlVSTCIsImhvdXJzIiwicGFyc2VJbnQiLCJnZXQiLCJjdXRvZmZEYXRlIiwic2V0SG91cnMiLCJnZXRIb3VycyIsInF1ZXJ5Iiwic2VsZWN0IiwiZ3RlIiwib3JkZXIiLCJhc2NlbmRpbmciLCJlcSIsImRhdGEiLCJlcnJvcnMiLCJlcnJvclN0YXRzIiwicmVkdWNlIiwic3RhdHMiLCJ0b3RhbEVycm9ycyIsImJ5U2V2ZXJpdHkiLCJieVR5cGUiLCJjcml0aWNhbEVycm9ycyIsInN0YXRpc3RpY3MiLCJzdW1tYXJ5IiwiZXJyb3JSYXRlIiwidGltZVJhbmdlIl0sInNvdXJjZXMiOlsiUjpcXEFwcHNcXEJyaWVmbHlfQ2xvdWRcXGJyaWVmbHktY2xvdWQtbmV4dGpzXFxzcmNcXGFwcFxcYXBpXFxtb25pdG9yaW5nXFxlcnJvcnNcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcclxuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcclxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9hcHAvbGliL2xvZ2dlcidcclxuaW1wb3J0IHsgZm9ybWF0RXJyb3JSZXNwb25zZSB9IGZyb20gJ0AvYXBwL2xpYi9hcGktZXJyb3JzJ1xyXG5pbXBvcnQgeyB3aXRoUmF0ZUxpbWl0IH0gZnJvbSAnQC9hcHAvbGliL3JhdGUtbGltaXQnXHJcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcclxuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJ0AvYXBwL2xpYi9zdXBhYmFzZSdcblxyXG4vLyBFcnJvciB0cmFja2luZyBzY2hlbWFcclxuY29uc3QgRXJyb3JUcmFja2luZ1NjaGVtYSA9IHoub2JqZWN0KHtcclxuICBtZXNzYWdlOiB6LnN0cmluZygpLFxyXG4gIHN0YWNrOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgY29udGV4dDogei5yZWNvcmQoei5hbnkoKSkub3B0aW9uYWwoKSxcclxuICB1c2VySWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICBzZXNzaW9uSWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcclxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCkuZGF0ZXRpbWUoKSxcclxuICBzZXZlcml0eTogei5lbnVtKFsnbG93JywgJ21lZGl1bScsICdoaWdoJywgJ2NyaXRpY2FsJ10pLm9wdGlvbmFsKCksXHJcbiAgZXJyb3JUeXBlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgdXJsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgdXNlckFnZW50OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbiAgaXBBZGRyZXNzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXHJcbn0pXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHJldHVybiB3aXRoUmF0ZUxpbWl0KHJlcXVlc3QsIGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxyXG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBFcnJvclRyYWNraW5nU2NoZW1hLnBhcnNlKGJvZHkpXHJcblxyXG4gICAgICAvLyBTdG9yZSBlcnJvciBpbiBkYXRhYmFzZVxyXG4gICAgICBjb25zdCBzdXBhYmFzZSA9IHN1cGFiYXNlQWRtaW5cclxuXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2Vycm9yX2xvZ3MnKVxyXG4gICAgICAgIC5pbnNlcnQoe1xyXG4gICAgICAgICAgaWQ6IGNyeXB0by5yYW5kb21VVUlEKCksXHJcbiAgICAgICAgICBtZXNzYWdlOiBlcnJvckRhdGEubWVzc2FnZSxcclxuICAgICAgICAgIHN0YWNrOiBlcnJvckRhdGEuc3RhY2sgfHwgJycsXHJcbiAgICAgICAgICBjb250ZXh0OiBlcnJvckRhdGEuY29udGV4dCB8fCB7fSxcclxuICAgICAgICAgIHVzZXJfaWQ6IGVycm9yRGF0YS51c2VySWQsXHJcbiAgICAgICAgICBzZXNzaW9uX2lkOiBlcnJvckRhdGEuc2Vzc2lvbklkLFxyXG4gICAgICAgICAgc2V2ZXJpdHk6IGVycm9yRGF0YS5zZXZlcml0eSB8fCAnbWVkaXVtJyxcclxuICAgICAgICAgIGVycm9yX3R5cGU6IGVycm9yRGF0YS5lcnJvclR5cGUgfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgdXJsOiBlcnJvckRhdGEudXJsLFxyXG4gICAgICAgICAgdXNlcl9hZ2VudDogZXJyb3JEYXRhLnVzZXJBZ2VudCxcclxuICAgICAgICAgIGlwX2FkZHJlc3M6IGVycm9yRGF0YS5pcEFkZHJlc3MsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGVycm9yRGF0YS50aW1lc3RhbXAsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN0b3JlIGVycm9yIGxvZycsIHsgZXJyb3IgfSlcclxuICAgICAgICByZXR1cm4gZm9ybWF0RXJyb3JSZXNwb25zZSgnRmFpbGVkIHRvIHN0b3JlIGVycm9yJywgNTAwKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHRyYWNrZWQnLCB7IFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yRGF0YS5tZXNzYWdlLFxyXG4gICAgICAgIHNldmVyaXR5OiBlcnJvckRhdGEuc2V2ZXJpdHksXHJcbiAgICAgICAgdXNlcklkOiBlcnJvckRhdGEudXNlcklkIFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciB0cmFja2VkIHN1Y2Nlc3NmdWxseSdcclxuICAgICAgfSlcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBsb2dnZXIuZXJyb3IoJ0Vycm9yIHRyYWNraW5nIGVycm9yJywgeyBlcnJvciB9KVxyXG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3JSZXNwb25zZSgnSW52YWxpZCByZXF1ZXN0JywgNDAwKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICByZXR1cm4gd2l0aFJhdGVMaW1pdChyZXF1ZXN0LCBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcclxuICAgICAgY29uc3QgaG91cnMgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdob3VycycpIHx8ICcyNCcpXHJcbiAgICAgIGNvbnN0IHNldmVyaXR5ID0gc2VhcmNoUGFyYW1zLmdldCgnc2V2ZXJpdHknKVxyXG4gICAgICBjb25zdCBlcnJvclR5cGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCdlcnJvclR5cGUnKVxyXG5cclxuICAgICAgLy8gR2V0IGVycm9yIGxvZ3NcclxuICAgICAgY29uc3Qgc3VwYWJhc2UgPSBzdXBhYmFzZUFkbWluXHJcblxyXG4gICAgICBjb25zdCBjdXRvZmZEYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBjdXRvZmZEYXRlLnNldEhvdXJzKGN1dG9mZkRhdGUuZ2V0SG91cnMoKSAtIGhvdXJzKVxyXG5cclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnZXJyb3JfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmd0ZSgnY3JlYXRlZF9hdCcsIGN1dG9mZkRhdGUudG9JU09TdHJpbmcoKSlcclxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgICAgIGlmIChzZXZlcml0eSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3NldmVyaXR5Jywgc2V2ZXJpdHkpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlcnJvclR5cGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdlcnJvcl90eXBlJywgZXJyb3JUeXBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGRhdGE6IGVycm9ycywgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBnZXQgZXJyb3IgbG9ncycsIHsgZXJyb3IgfSlcclxuICAgICAgICByZXR1cm4gZm9ybWF0RXJyb3JSZXNwb25zZSgnRmFpbGVkIHRvIHJldHJpZXZlIGVycm9ycycsIDUwMClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIGVycm9yIHN0YXRpc3RpY3NcclxuICAgICAgY29uc3QgZXJyb3JTdGF0cyA9IGVycm9ycz8ucmVkdWNlKChzdGF0cywgZXJyb3IpID0+IHtcclxuICAgICAgICBzdGF0cy50b3RhbEVycm9ycysrXHJcbiAgICAgICAgc3RhdHMuYnlTZXZlcml0eVtlcnJvci5zZXZlcml0eV0gPSAoc3RhdHMuYnlTZXZlcml0eVtlcnJvci5zZXZlcml0eV0gfHwgMCkgKyAxXHJcbiAgICAgICAgc3RhdHMuYnlUeXBlW2Vycm9yLmVycm9yX3R5cGVdID0gKHN0YXRzLmJ5VHlwZVtlcnJvci5lcnJvcl90eXBlXSB8fCAwKSArIDFcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZXJyb3Iuc2V2ZXJpdHkgPT09ICdjcml0aWNhbCcgfHwgZXJyb3Iuc2V2ZXJpdHkgPT09ICdoaWdoJykge1xyXG4gICAgICAgICAgc3RhdHMuY3JpdGljYWxFcnJvcnMrK1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gc3RhdHNcclxuICAgICAgfSwge1xyXG4gICAgICAgIHRvdGFsRXJyb3JzOiAwLFxyXG4gICAgICAgIGNyaXRpY2FsRXJyb3JzOiAwLFxyXG4gICAgICAgIGJ5U2V2ZXJpdHk6IHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4sXHJcbiAgICAgICAgYnlUeXBlOiB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LFxyXG4gICAgICB9KSB8fCB7XHJcbiAgICAgICAgdG90YWxFcnJvcnM6IDAsXHJcbiAgICAgICAgY3JpdGljYWxFcnJvcnM6IDAsXHJcbiAgICAgICAgYnlTZXZlcml0eToge30sXHJcbiAgICAgICAgYnlUeXBlOiB7fSxcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGVycm9yczogZXJyb3JzIHx8IFtdLFxyXG4gICAgICAgICAgc3RhdGlzdGljczogZXJyb3JTdGF0cyxcclxuICAgICAgICAgIHN1bW1hcnk6IHtcclxuICAgICAgICAgICAgdG90YWxFcnJvcnM6IGVycm9yU3RhdHMudG90YWxFcnJvcnMsXHJcbiAgICAgICAgICAgIGNyaXRpY2FsRXJyb3JzOiBlcnJvclN0YXRzLmNyaXRpY2FsRXJyb3JzLFxyXG4gICAgICAgICAgICBlcnJvclJhdGU6IGVycm9yU3RhdHMudG90YWxFcnJvcnMgLyBob3VycywgLy8gZXJyb3JzIHBlciBob3VyXHJcbiAgICAgICAgICAgIHRpbWVSYW5nZTogYCR7aG91cnN9IGhvdXJzYCxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciBsb2dzIHJldHJpZXZhbCBlcnJvcicsIHsgZXJyb3IgfSlcclxuICAgICAgcmV0dXJuIGZvcm1hdEVycm9yUmVzcG9uc2UoJ0ludGVybmFsIHNlcnZlciBlcnJvcicsIDUwMClcclxuICAgIH1cclxuICB9KVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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